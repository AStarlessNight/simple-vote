(this["webpackJsonpvote-fe"]=this["webpackJsonpvote-fe"]||[]).push([[0],{201:function(e,t,n){var o=n(202),a=n(203);"string"===typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var r={insert:"head",singleton:!1};o(a,r);e.exports=a.locals||{}},203:function(e,t,n){"use strict";n.r(t);var o=n(172),a=n.n(o)()(!0);a.push([e.i,'.ant-layout {\n  background-color: #fff !important;\n}\n.ant-layout-header {\n  background-color: #fff !important;\n  padding: 0 !important;\n}\n.ant-layout-header .ant-menu {\n  border-bottom: none !important;\n}\n.layout-divider {\n  margin: 0 !important;\n  border-color: #e5e5e5 !important;\n}\n.header-divider {\n  margin-bottom: 25px !important;\n}\n.footer-divider {\n  margin-top: 15px !important;\n}\n.ant-layout-content {\n  background-color: #fff;\n  min-height: calc(100vh - 150px) !important;\n}\n.ant-layout-content > div > div.ant-row {\n  margin-top: 20px;\n}\n.ant-layout-footer {\n  height: 30px !important;\n  background-color: #fff !important;\n  padding: 0 15px !important;\n}\n.ant-layout-footer span,\n.ant-layout-footer a {\n  font-family: Georgia, Cambria, "Times New Roman", Times, serif;\n}\n.unstyled-ant-menu-item,\n.unstyled-ant-menu-item a {\n  color: inherit !important;\n}\n.unselectable {\n  user-select: none;\n}\n.ant-menu-item::after {\n  border: none !important;\n}\n.register-container,\n.login-container,\n.create-vote-container {\n  margin: 0 auto;\n}\n.register-container > h1,\n.login-container > h1,\n.create-vote-container > h1,\n.register-container > p,\n.login-container > p,\n.create-vote-container > p {\n  text-align: center;\n}\n.create-vote-container button.ant-btn-primary {\n  width: 50%;\n}\n.voteinfo-container th {\n  width: 30%;\n}\n.voteinfo-container td {\n  width: 70%;\n}\n.voteinfo-container > .voteinfo-header {\n  padding: 12px 25px 12px 25px ;\n  border-bottom: 1px solid #dfdfdf !important;\n}\n.voteinfo-container > .voteinfo-header .ant-collapse-content {\n  margin-top: 5px;\n}\n.voteinfo-container > .ant-list {\n  padding: 0px 25px;\n}\n.voteinfo-container > .ant-list .ant-list-item {\n  border-bottom: 1px solid #e0e0e0 !important;\n}\n.voteinfo-container > .ant-list .ant-list-item:last-child {\n  border-bottom: none !important;\n}\n.voteinfo-container > .ant-list .show-details-trigger-text {\n  user-select: none;\n}\n.voteinfo-container > .ant-list .show-details-trigger-text:hover {\n  color: #1890ff !important;\n  cursor: pointer !important;\n  text-decoration: underline !important;\n}\n.voteinfo-container > .ant-list .ant-checkbox-wrapper {\n  margin-left: 5px !important;\n  margin-right: 5px !important;\n}\n.ant-card-bordered {\n  border: 1px solid #dfdfdf !important;\n}\n.ant-card-bordered .ant-card-head {\n  border-bottom: 1px solid #dfdfdf !important;\n}\n.ant-descriptions {\n  flex: 100%;\n  border: 1px solid #dfdfdf !important;\n}\n.bordered-container {\n  border: 1px solid #dfdfdf !important;\n}\n.ant-list-item {\n  border: none !important;\n}\n.voteinfo-collapse .ant-collapse-header {\n  display: none !important;\n}\n.ant-btn-text {\n  font-size: 12px  !important;\n  color: #2f54eb !important;\n  padding: 0 !important;\n  margin: 0 10px 0 0 !important;\n}\n.ant-btn-text:hover,\n.ant-btn-text:active,\n.ant-btn-text:focus {\n  background: #fff !important;\n}\n.viewvote-container .vote-title {\n  font-size: 26px !important;\n  margin-right: 5px;\n}\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-collapse-content-box {\n  padding: 0 !important;\n}\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-descriptions {\n  border: none !important;\n}\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-descriptions .ant-descriptions-item-label {\n  font-size: 13px !important;\n  font-weight: 700;\n  color: #003a8c;\n}\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-descriptions .ant-descriptions-item-content {\n  font-size: 13px !important;\n}\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-descriptions .ant-badge-status-text {\n  font-size: 13px !important;\n}\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-descriptions .ant-descriptions-item {\n  padding-bottom: 3px !important;\n}\n.viewvote-container .voteinfo-container .voteinfo-display-button > span {\n  color: #828282 !important;\n}\n.viewvote-container .voteinfo-container .option-list-item {\n  display: block !important;\n}\n.viewvote-container .voteinfo-container .option-list-item .ant-progress-text {\n  margin-left: 3px !important;\n}\n.viewvote-container .ant-card-body {\n  max-height: 500px;\n  overflow: auto;\n}\n.myvote-tabpane {\n  height: 300px;\n  overflow: auto;\n}\n.myvote-list {\n  border-bottom: 1px solid #f0f0f0 !important;\n}\n.link-to-vote {\n  color: #0050b3;\n}\n.display-vote-list .ant-list-item {\n  display: block;\n}\n.homepage-button {\n  margin-top: 10px !important;\n  border-color: #ff9c6e !important;\n  color: #ff9c6e !important;\n  border-radius: 10px !important;\n}\n.homepage-button:hover {\n  background-color: #ff9c6e !important;\n  color: #fff !important;\n  border-color: #fff !important;\n}\n.homepage-container .link-to-vote {\n  color: inherit !important;\n}\n.homepage-container .link-to-vote:hover {\n  color: #ff9c6e !important;\n  cursor: pointer;\n}\n',"",{version:3,sources:["webpack://src/css/index.less"],names:[],mappings:"AAAA;EACI,iCAAA;AACJ;AACA;EACI,iCAAA;EACA,qBAAA;AACJ;AAHA;EAIQ,8BAAA;AAER;AAGA;EACI,oBAAA;EACA,gCAAA;AADJ;AAGA;EACI,8BAAA;AADJ;AAIA;EACI,2BAAA;AAFJ;AAOA;EACI,sBAAA;EACA,0CAAA;AALJ;AAGA;EAIQ,gBAAA;AAJR;AAUA;EACI,uBAAA;EACA,iCAAA;EACA,0BAAA;AARJ;AAKA;;EAKQ,8DAAA;AANR;AAWA;;EAEI,yBAAA;AATJ;AAaA;EACI,iBAAA;AAXJ;AAeA;EACI,uBAAA;AAbJ;AAiBA;;;EACI,cAAA;AAbJ;AAYA;;;;;;EAMQ,kBAAA;AAVR;AA2BA;EACQ,UAAA;AAzBR;AA6BA;EAEQ,UAAA;AA5BR;AA0BA;EAKQ,UAAA;AA5BR;AAuBA;EAQQ,6BAAA;EACA,2CAAA;AA5BR;AAmBA;EAWY,eAAA;AA3BZ;AAgBA;EAeQ,iBAAA;AA5BR;AAaA;EAiBY,2CAAA;AA3BZ;AA4BY;EACI,8BAAA;AA1BhB;AAOA;EAuBY,iBAAA;AA3BZ;AA4BY;EACI,yBAAA;EACA,0BAAA;EACA,qCAAA;AA1BhB;AADA;EA+BY,2BAAA;EACA,4BAAA;AA3BZ;AAgCA;EACI,oCAAA;AA9BJ;AA6BA;EAGQ,2CAAA;AA7BR;AAiCA;EACI,UAAA;EACA,oCAAA;AA/BJ;AAkCA;EACI,oCAAA;AAhCJ;AAmCA;EACI,uBAAA;AAjCJ;AAqCA;EAKQ,wBAAA;AAvCR;AA4CA;EACI,2BAAA;EACA,yBAAA;EAEA,qBAAA;EACA,6BAAA;AA3CJ;AA6CI;;;EACI,2BAAA;AAzCR;AA+CA;EAEQ,0BAAA;EACA,iBAAA;AA9CR;AA2CA;EAQgB,qBAAA;AAhDhB;AAwCA;EAWgB,uBAAA;AAhDhB;AAqCA;EAaoB,0BAAA;EACA,gBAAA;EACA,cAAA;AA/CpB;AAgCA;EAkBoB,0BAAA;AA/CpB;AA6BA;EAuBoB,0BAAA;AAjDpB;AA0BA;EA0BoB,8BAAA;AAjDpB;AAuBA;EAgCgB,yBAAA;AApDhB;AAoBA;EAoCY,yBAAA;AArDZ;AAiBA;EAsCgB,2BAAA;AApDhB;AAcA;EA2CQ,iBAAA;EACA,cAAA;AAtDR;AA0DA;EACI,aAAA;EACA,cAAA;AAxDJ;AA4DA;EACI,2CAAA;AA1DJ;AA6DA;EACI,cAAA;AA3DJ;AA+DA;EAEQ,cAAA;AA9DR;AAmEA;EACI,2BAAA;EACA,gCAAA;EACA,yBAAA;EACA,8BAAA;AAjEJ;AAkEI;EACI,oCAAA;EACA,sBAAA;EACA,6BAAA;AAhER;AAqEA;EAEQ,yBAAA;AApER;AAqEQ;EACI,yBAAA;EACA,eAAA;AAnEZ",sourcesContent:['.ant-layout {\n    background-color: #fff !important;\n}\n.ant-layout-header{\n    background-color: #fff !important;\n    padding: 0 !important;\n    .ant-menu {\n        border-bottom: none !important;\n    }\n}\n\n\n.layout-divider {\n    margin: 0 !important;\n    border-color: #e5e5e5 !important;\n}\n.header-divider {\n    margin-bottom: 25px !important;\n}\n\n.footer-divider {\n    margin-top: 15px !important;\n}\n\n\n\n.ant-layout-content {\n    background-color: #fff;\n    min-height: calc(100vh - 150px) !important;\n    > div > div.ant-row {\n        margin-top: 20px;\n    }\n    // min-width: 500px !important;\n}\n\n\n.ant-layout-footer {\n    height: 30px !important;\n    background-color: #fff  !important;\n    padding: 0 15px !important;\n    span, a {\n        font-family: Georgia,Cambria,"Times New Roman",Times,serif;\n    }\n}\n\n\n.unstyled-ant-menu-item, \n.unstyled-ant-menu-item a{\n    color: inherit !important;\n}\n\n\n.unselectable {\n    user-select: none;\n}\n\n\n.ant-menu-item::after {\n    border: none !important;\n}\n\n\n.register-container, .login-container, .create-vote-container {\n    margin: 0 auto;\n    // > h1 {\n    //     margin-top: 15px !important;\n    // }\n    > h1 , > p{\n        text-align: center;\n    };\n\n}\n\n\n\n// .create-vote-container {\n//     width: 70%;\n//     margin: 0 20% 0 auto;\n//     > h2 , > p{\n//         text-align: center;\n//     };\n//     button.ant-btn-primary {\n//         width: 30%;\n//     }\n// }\n.create-vote-container button.ant-btn-primary {\n        width: 50%;\n        // height: 35px !important;\n}\n\n.voteinfo-container {\n    th {\n        width: 30%;\n    };\n    td {\n        width: 70%;\n    };\n    > .voteinfo-header {\n        padding: 12px 25px 12px 25px ;\n        border-bottom: 1px solid #dfdfdf !important;\n        .ant-collapse-content {\n            margin-top: 5px;\n        }\n    }\n    > .ant-list {\n        padding: 0px 25px;\n        .ant-list-item {\n            border-bottom: 1px solid #e0e0e0 !important;\n            &:last-child {\n                border-bottom: none !important;\n            }\n        }\n        .show-details-trigger-text {\n            user-select: none;\n            &:hover {\n                color: #1890ff !important;\n                cursor: pointer !important;\n                text-decoration: underline !important;\n            }\n        }\n        .ant-checkbox-wrapper {\n            margin-left: 5px !important;\n            margin-right: 5px !important;\n        }\n    }\n\n}\n.ant-card-bordered {\n    border: 1px solid #dfdfdf !important;\n    .ant-card-head {\n        border-bottom: 1px solid #dfdfdf !important;\n    }\n}\n\n.ant-descriptions {\n    flex: 100%;\n    border: 1px solid #dfdfdf !important;\n}\n\n.bordered-container {\n    border: 1px solid #dfdfdf !important;\n}\n\n.ant-list-item {\n    border: none !important;\n}\n\n\n.voteinfo-collapse  {\n    // .ant-collapse-item {\n    //     border: none !important;\n    // };\n    .ant-collapse-header {\n        display: none !important;\n    }\n}\n\n\n.ant-btn-text {\n    font-size: 12px  !important;\n    color: #2f54eb !important;\n    // color: #828282 !important;\n    padding: 0 !important;\n    margin: 0 10px 0 0 !important;\n    // transform: scale(0.85);\n    &:hover, &:active, &:focus {\n        background: #fff !important;\n    }\n    \n}\n\n\n.viewvote-container  {\n    .vote-title {\n        font-size: 26px !important;\n        margin-right: 5px;\n    }\n    .voteinfo-container {\n        .voteinfo-collapse {\n            .ant-collapse-content-box {\n                padding: 0 !important;\n            };\n            .ant-descriptions {\n                border: none !important;\n                .ant-descriptions-item-label {\n                    font-size: 13px !important;\n                    font-weight: 700;\n                    color:#003a8c;\n                }\n                .ant-descriptions-item-content {\n                    font-size: 13px !important;\n                    // font-weight: 600;\n\n                }\n                .ant-badge-status-text {\n                    font-size: 13px !important;\n                }\n                .ant-descriptions-item {\n                    padding-bottom: 3px !important;\n                }\n            }\n        }\n        .voteinfo-display-button{\n            > span {\n                color: #828282 !important;\n            }\n        }\n        .option-list-item {\n            display: block !important;\n            .ant-progress-text {\n                margin-left: 3px !important;\n            }\n        }\n    }\n    .ant-card-body {\n        max-height: 500px;\n        overflow: auto;\n    }\n}\n\n.myvote-tabpane {\n    height: 300px;\n    overflow: auto;\n}\n\n\n.myvote-list {\n    border-bottom: 1px solid #f0f0f0 !important;\n}\n\n.link-to-vote {\n    color: #0050b3;\n}\n\n\n.display-vote-list {\n    .ant-list-item {\n        display: block;\n    }\n}\n\n\n.homepage-button {\n    margin-top: 10px !important;\n    border-color: #ff9c6e !important; \n    color: #ff9c6e !important;\n    border-radius:10px !important;\n    &:hover {\n        background-color: #ff9c6e !important;\n        color: #fff !important;\n        border-color: #fff !important; \n    }\n}\n\n\n.homepage-container {\n    .link-to-vote {\n        color: inherit !important;\n        &:hover {\n            color: #ff9c6e !important;\n            cursor: pointer;\n            // text-decoration: underline 10% !important;\n        }\n    }\n}'],sourceRoot:""}]),t.default=a},301:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(35),i=n.n(r),s=n(33),c=(n(201),n(29)),l=n(22),d=n(44),p=n(96),A=n.n(p),j=n(119),b=n(308),m=n(188),u=n(61),h=n(311),f=n(307),x=n(59),O=n(98),v=n(32),g=n.n(v),y=n(146),I=n.n(y),C=n(173),w=n.n(C),E=n(320),B=n(6),k={};var D=function(e){var t=e.props,n=Object(l.g)(),a=t.userInfo,r=t.setUserInfo,i=t.setSelectedKey,p=Object(o.useState)(!1),v=Object(c.a)(p,2),y=v[0],I=v[1];Object(o.useEffect)((function(){i("login")}),[]);var C=b.a.useForm(),D=Object(c.a)(C,1)[0];return Object(B.jsxs)(u.a,{span:21,className:"register-container",children:[Object(B.jsx)("h1",{style:{fontSize:"25px"},children:"\u6ce8\u518c"}),Object(B.jsxs)("p",{children:["\u5982\u5df2\u6709\u8d26\u53f7\uff0c\u8bf7",Object(B.jsx)(s.c,{style:{textDecoration:"none"},to:"/login",children:"\u767b\u5f55"})]}),Object(B.jsxs)(b.a,Object(d.a)(Object(d.a)({},k),{},{form:D,labelCol:{offset:2,span:6},wrapperCol:{span:10},onFinish:function(e){var t,o;I(!0);var i=new FormData;for(var s in e)"avatar"!==s&&"captcha"!==s&&e[s]&&i.append(s,e[s]);i.append("captcha",e.captcha),i.append("avatar",null===(t=e.avatar)||void 0===t||null===(o=t[0])||void 0===o?void 0:o.originFileObj),g.a.post("/api/user/register",i,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){var t=e.data;m.b.success(t.msg),a||r(t.userInfo),n.push("/home")}),(function(e){m.b.error(e.response.data.msg),I(!1)}))},scrollToFirstError:!0,children:[Object(B.jsx)(b.a.Item,{name:"username",label:"\u7528\u6237\u540d",tooltip:"\u7528\u4e8e\u767b\u9646\u53ca\u5c55\u793a\u7ed9\u4ed6\u4eba",hasFeedback:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",whitespace:!0},{max:10,message:"\u8d85\u51fa\u7528\u6237\u540d\u957f\u5ea6\u9650\u5236"},{validator:w()(function(){var e=Object(j.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/user/register-check",{username:n});case 2:if(0!==e.sent.data.code){e.next=7;break}return e.abrupt("return",Promise.resolve());case 7:return e.abrupt("return",Promise.reject(new Error("\u8be5\u7528\u6237\u540d\u5df2\u88ab\u6ce8\u518c")));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),500)}],children:Object(B.jsx)(h.a,{placeholder:"1~10\u4e2a\u5b57\u7b26"})}),Object(B.jsx)(b.a.Item,{name:"password",label:"\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],hasFeedback:!0,children:Object(B.jsx)(h.a.Password,{})}),Object(B.jsx)(b.a.Item,{name:"confirm",label:"\u786e\u8ba4\u5bc6\u7801",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject(new Error("\u5bc6\u7801\u4e0d\u4e00\u81f4")):Promise.resolve()}}}],children:Object(B.jsx)(h.a.Password,{})}),Object(B.jsx)(b.a.Item,{name:"email",label:"\u90ae\u7bb1",rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u90ae\u7bb1\u5730\u5740"}],hasFeedback:!0,children:Object(B.jsx)(h.a,{placeholder:"\u9009\u586b\uff0c\u7528\u4e8e\u627e\u56de\u5bc6\u7801"})}),Object(B.jsx)(b.a.Item,{valuePropName:"fileList",getValueFromEvent:function(e){return Array.isArray(e)?e:e&&e.fileList},label:"\u5934\u50cf",name:"avatar",rules:[{validator:function(e,t){return(null===t||void 0===t?void 0:t[0])?/^image\//.test(t[0].type)?t[0].size<1048576?Promise.resolve():Promise.reject(new Error("\u56fe\u7247\u5927\u5c0f\u8d85\u51fa1M")):Promise.reject(new Error("\u6587\u4ef6\u7c7b\u578b\u9519\u8bef")):Promise.resolve()}}],children:Object(B.jsx)(f.a,{listType:"picture",maxCount:1,beforeUpload:function(){return!1},accept:"image/*",children:Object(B.jsx)(x.a,{icon:Object(B.jsx)(E.a,{}),style:{width:"150px"},children:"\u4e0a\u4f20\u5934\u50cf"})})}),Object(B.jsx)(b.a.Item,{label:"\u9a8c\u8bc1\u7801",required:"true",children:Object(B.jsxs)(O.a,{gutter:8,children:[Object(B.jsx)(u.a,{span:12,children:Object(B.jsx)(b.a.Item,{name:"captcha",noStyle:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u56fe\u4e2d\u9a8c\u8bc1\u7801"}],children:Object(B.jsx)(h.a,{placeholder:"\u4e0d\u533a\u5206\u5927\u5c0f\u5199"})})}),Object(B.jsx)(u.a,{span:6,children:Object(B.jsx)("img",{className:"register-captcha",src:"/api/captcha",style:{height:"35px"}})})]})}),Object(B.jsx)(b.a.Item,{wrapperCol:{sm:{offset:9}},className:"submit-button",children:Object(B.jsx)(x.a,{loading:y,type:"primary",htmlType:"submit",style:{width:"40%"},children:"\u6ce8\u518c"})})]}))]})},N=n(321),S=n(322);var T=function(e){var t=e.props,n=t.setUserInfo,a=t.setSelectedKey,r=Object(l.g)(),i=Object(o.useState)(!1),d=Object(c.a)(i,2),p=d[0],A=d[1],j=b.a.useForm(),f=Object(c.a)(j,1)[0];return Object(o.useEffect)((function(){a("login")})),Object(B.jsxs)(u.a,{span:8,className:"login-container",children:[Object(B.jsx)("h1",{style:{fontSize:"25px"},children:"\u767b\u5f55"}),Object(B.jsxs)("p",{children:["\u5982\u5c1a\u672a\u62e5\u6709\u8d26\u53f7\uff0c\u8bf7",Object(B.jsx)(s.c,{style:{textDecoration:"none"},to:"/register",children:"\u6ce8\u518c"})]}),Object(B.jsxs)(b.a,{form:f,onFinish:function(e){A(!0),g.a.post("/api/user/login",e).then((function(e){var t=e.data;m.b.success(t.msg),n(t.userInfo),r.push("/home")}),(function(e){m.b.error(e.response.data.msg),A(!1)}))},scrollToFirstError:!0,children:[Object(B.jsx)(b.a.Item,{name:"username",tooltip:"\u7528\u4e8e\u767b\u9646\u53ca\u5c55\u793a\u7ed9\u4ed6\u4eba",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",whitespace:!0}],children:Object(B.jsx)(h.a,{addonBefore:Object(B.jsx)(N.a,{}),placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"})}),Object(B.jsx)(b.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(B.jsx)(h.a.Password,{addonBefore:Object(B.jsx)(S.a,{}),placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})}),Object(B.jsxs)("p",{children:["\u5982\u5fd8\u8bb0\u5bc6\u7801\uff0c\u53ef",Object(B.jsx)(s.c,{style:{textDecoration:"none"},to:"/forgot-password",children:"\u627e\u56de\u5bc6\u7801"})]}),Object(B.jsx)(b.a.Item,{wrapperCol:{sm:{offset:8}},className:"submit-button",children:Object(B.jsx)(x.a,{type:"primary",loading:p,htmlType:"submit",style:{minWidth:"50px",width:"53%"},children:"\u767b\u5f55"})})]})]})},z=n(306),F=n(186),R=n(302),L=n(180),P=n(39),J=[];for(var U in P.b)J.push(P.b[U][4]);var q=function(e){var t=e.props,n=t.userInfo,a=t.setSelectedKey,r=Object(o.useState)(),i=Object(c.a)(r,2),s=i[0],d=i[1],p=Object(l.g)();Object(o.useEffect)((function(){a("home"),g.a.get("/api/vote/display-vote").then((function(e){var t=e.data;d(t)}),(function(e){-1===e.response.data.code?m.b.error(e.response.data.msg):m.b.error("\u83b7\u53d6\u5c55\u793a\u6295\u7968\u4fe1\u606f\u5931\u8d25")}))}),[]);var A=Object(o.useCallback)((function(e,t){if(0===t)return 0;var n=(e/t*100).toFixed();return"100"===n?"100":n}),[]),j=Object(o.useCallback)((function(e){n?p.push(e):p.push("/login")}),[n]);return s?Object(B.jsx)(O.a,{className:"homepage-container",justify:"center",children:Object(B.jsxs)(u.a,{span:17,children:[Object(B.jsxs)(O.a,{justify:"center",children:[Object(B.jsxs)(u.a,{span:10,children:[Object(B.jsxs)("h2",{style:{},children:[Object(B.jsx)("span",{onClick:function(){return j("/vote/".concat(s[0].voteID))},className:"link-to-vote",to:"/vote/".concat(s[0].voteID),children:s[0].title})," "]}),Object(B.jsx)(z.b,{className:"display-vote-list",dataSource:s[0].options,renderItem:function(e,t){return Object(B.jsxs)(z.b.Item,{children:[Object(B.jsx)("div",{children:e.content}),Object(B.jsx)(F.a,{status:"active",showInfo:!0,strokeColor:J[5+2*t],percent:A(e.voteups,s[0].numberOfUsers)})]},e.optionID)}})]}),Object(B.jsx)(u.a,{span:3,style:{textAlign:"center"},children:Object(B.jsx)(R.a,{type:"vertical",style:{height:"100%",margin:"0 auto",borderLeftColor:"#dfdfdf"}})}),Object(B.jsxs)(u.a,{span:10,children:[Object(B.jsx)("h2",{style:{},children:Object(B.jsx)("span",{className:"link-to-vote",onClick:function(){return j("/vote/".concat(s[1].voteID))},children:s[1].title})}),Object(B.jsx)(z.b,{className:"display-vote-list",dataSource:s[1].options,renderItem:function(e,t){return Object(B.jsxs)(z.b.Item,{children:[Object(B.jsx)("div",{children:e.content}),Object(B.jsx)(F.a,{status:"active",showInfo:!0,strokeColor:J[5+2*t],percent:A(e.voteups,s[1].numberOfUsers)})]},e.optionID)}})]})]}),Object(B.jsx)(O.a,{justify:"center",children:Object(B.jsx)(u.a,{span:11,children:Object(B.jsx)(x.a,{className:"homepage-button",block:!0,onClick:function(){return j("/create-vote")},children:Object(B.jsx)("b",{children:"\u521b\xa0\xa0\u5efa\xa0\xa0\u6295\xa0\xa0\u7968"})})})})]})}):Object(B.jsx)(L.a,{size:"large",tip:"Loading..."})},K=n(304);function Q(){var e=Object(l.g)(),t=function(){var e=Object(l.h)().search;return a.a.useMemo((function(){return new URLSearchParams(e)}),[e])}().get("link");return Object(B.jsxs)(u.a,{span:8,className:"login-container",children:[Object(B.jsx)("h1",{style:{fontSize:"25px"},children:"\u91cd\u7f6e\u5bc6\u7801"}),Object(B.jsxs)(b.a,{onFinish:function(n){g.a.post("/api/user/forgot-changepwd",Object(d.a)({link:t},n)).then((function(t){var n=t.data;m.b.success(n.msg),e.push("/home")}),(function(e){m.b.error(e.response.data.msg)}))},scrollToFirstError:!0,children:[Object(B.jsx)(b.a.Item,{name:"password",hasFeedback:!0,rules:[{required:!0,message:"",whitespace:!0}],children:Object(B.jsx)(h.a.Password,{addonBefore:Object(B.jsx)(S.a,{}),placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})}),Object(B.jsx)(b.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject(new Error("\u5bc6\u7801\u4e0d\u4e00\u81f4")):Promise.resolve()}}}],children:Object(B.jsx)(h.a.Password,{addonBefore:Object(B.jsx)(S.a,{}),placeholder:"\u8bf7\u518d\u8f93\u5165\u4e00\u904d\u5bc6\u7801"})}),Object(B.jsx)(b.a.Item,{wrapperCol:{sm:{offset:8}},className:"submit-button",children:Object(B.jsx)(x.a,{type:"primary",htmlType:"submit",style:{minWidth:"50px",width:"53%"},children:"\u63d0\u4ea4"})})]})]})}var M=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(B.jsxs)(u.a,{span:8,className:"login-container",children:[Object(B.jsx)("h1",{style:{fontSize:"25px"},children:"\u627e\u56de\u5bc6\u7801"}),Object(B.jsxs)(b.a,{onFinish:function(e){a(!0),g.a.post("/api/user/forgot-password",e).then((function(e){var t=e.data;m.b.success(t.msg),a(!1)}),(function(e){m.b.error(e.response.data.msg),a(!1)}))},scrollToFirstError:!0,children:[Object(B.jsx)(b.a.Item,{name:"username",rules:[{required:!0,message:"",whitespace:!0}],children:Object(B.jsx)(h.a,{addonBefore:Object(B.jsx)(N.a,{}),placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"})}),Object(B.jsx)(b.a.Item,{wrapperCol:{sm:{offset:8}},className:"submit-button",children:Object(B.jsx)(x.a,{loading:n,type:"primary",htmlType:"submit",style:{minWidth:"50px",width:"53%"},children:"\u63d0\u4ea4"})})]})]})},Y=n(313),W=n(317),V=n(312),G=n(323),H=n(194),Z=n(324),_=n(325),X=n(192),$=function(e){var t=e.setUserInfo,n=Object(l.g)();return Object(B.jsxs)(Y.a,{onClick:function(e){"logout"===e.key&&g.a.post("/api/user/logout",{}).then((function(){t(),n.push("/home")}),(function(e){alert("logout error")}))},children:[Object(B.jsx)(Y.a.Item,{children:Object(B.jsx)(s.c,{style:{textDecoration:"none"},to:"/myvote",children:"\u4e2a\u4eba\u4e2d\u5fc3"})},"info"),Object(B.jsx)(Y.a.Item,{icon:Object(B.jsx)(G.a,{}),children:"\u767b\u51fa"},"logout")]})};function ee(e){var t=e.props,n=t.userInfo,o=t.setUserInfo,a=t.selectedKey,r=t.setSelectedKey,i=Object(l.g)();return Object(B.jsxs)(Y.a,{mode:"horizontal",onClick:function(e){"create"!==e.key||n||i.push("/login")},onSelect:function(e){var t=e.key;r(t)},selectedKeys:a,children:[Object(B.jsx)(Y.a.Item,{className:"unstyled-ant-menu-item",icon:Object(B.jsx)(H.a,{style:{fontSize:"21px"}}),children:Object(B.jsx)(s.c,{style:{fontSize:"21px",textDecoration:"none"},to:"/home",children:"SimpleVote"})},"edit"),Object(B.jsx)(Y.a.Item,{icon:Object(B.jsx)(Z.a,{}),children:Object(B.jsx)(s.c,{style:{textDecoration:"none"},to:"/home",children:"\u9996\u9875"})},"home"),Object(B.jsx)(Y.a.Item,{icon:Object(B.jsx)(_.a,{}),children:Object(B.jsx)(s.b,{style:{textDecoration:"none"},to:"/create-vote",children:"\u521b\u5efa\u6295\u7968"})},"create"),Object(B.jsx)(Y.a.Item,{style:{marginLeft:"auto"},children:Object(B.jsx)(s.c,{style:{textDecoration:"none"},to:"/register",children:"\u6ce8\u518c / \u767b\u5f55"})},"login"),n&&Object(B.jsx)(Y.a.Item,{children:Object(B.jsx)(W.a,{overlay:$({setUserInfo:o}),placement:"bottomRight",trigger:"hover",children:Object(B.jsxs)("a",{className:"ant-dropdown-link unselectable",onClick:function(e){return e.preventDefault()},children:[Object(B.jsx)(V.a,{size:"small",src:n.avatar}),n.name," ",Object(B.jsx)(X.a,{})]})})},"user")]})}var te=n(318),ne=n(150),oe=n(303),ae=te.a.Meta,re=ne.a.TabPane;function ie(e){var t=e.props.userInfo,n=Object(o.useState)({}),a=Object(c.a)(n,2),r=a[0],i=a[1],l=Object(o.useState)(!0),d=Object(c.a)(l,2),p=d[0],A=d[1];return Object(o.useEffect)((function(){g.a.post("/api/vote/myvote",{userInfo:t}).then((function(e){var t=e.data,n=t.voteList.create.map((function(e,t){return{author:e.name?e.name:"\u533f\u540d",avatar:e.avatar,content:Object(B.jsx)("p",{children:Object(B.jsx)(s.c,{className:"link-to-vote",to:"/vote/"+e.voteID,children:e.title})})}})),o=t.voteList.participate.map((function(e,t){return{author:e.name?e.name:"\u533f\u540d",avatar:e.avatar,content:Object(B.jsx)("p",{children:Object(B.jsx)(s.c,{className:"link-to-vote",to:"/vote/"+e.voteID,children:e.title})})}}));i({createList:n,participateList:o}),A(!1)}),(function(e){m.b.error(e.response.data.msg),setTimeout((function(){window.location.reload()}),800)}))}),[]),p?Object(B.jsx)(L.a,{size:"large",tip:"Loading..."}):Object(B.jsx)(O.a,{justify:"center",children:Object(B.jsx)(u.a,{span:18,children:Object(B.jsxs)(te.a,{children:[Object(B.jsx)(ae,{avatar:Object(B.jsx)(V.a,{src:t.avatar,size:"large"}),title:t.name,description:"\u4e2a\u4eba\u63cf\u8ff0"}),Object(B.jsxs)(ne.a,{defaultActiveKey:"1",tabPosition:"left",style:{marginTop:"20px",borderTop:"1px solid #dfdfdf"},children:[Object(B.jsx)(re,{className:"myvote-tabpane",tab:"\u6211\u53d1\u8d77\u7684",children:Object(B.jsx)(z.b,{className:"comment-list",header:r.createList.length+(1===r.createList.length?" vote":" votes"),itemLayout:"horizontal",dataSource:r.createList,renderItem:function(e){return Object(B.jsx)("li",{className:"myvote-list",children:Object(B.jsx)(oe.a,{actions:e.actions,author:e.author,avatar:e.avatar,content:e.content,datetime:e.datetime})})}})},"create"),Object(B.jsx)(re,{className:"myvote-tabpane",tab:"\u6211\u53c2\u4e0e\u7684",children:Object(B.jsx)(z.b,{className:"comment-list",header:r.participateList.length+(1===r.participateList.length?" vote":" votes"),itemLayout:"horizontal",dataSource:r.participateList,renderItem:function(e){return Object(B.jsx)("li",{className:"myvote-list",children:Object(B.jsx)(oe.a,{actions:e.actions,author:e.author,avatar:e.avatar,content:e.content,datetime:e.datetime})})}})},"participate")]})]})})})}var se=n(319),ce=n(305),le=n(326),de=n(193),pe=n(187),Ae=(n(298),n(190)),je=h.a.TextArea,be={labelCol:{},wrapperCol:{span:21}},me=function(e){var t=e.props,n=t.userInfo,a=(t.setUserInfo,Object(l.g)()),r=Object(o.useState)(!1),i=Object(c.a)(r,2),s=i[0],p=i[1];return Object(B.jsxs)(u.a,{span:18,className:"create-vote-container",children:[Object(B.jsx)("h1",{style:{textAlign:"left",fontSize:"32px"},children:"\u521b\u5efa\u6295\u7968"}),Object(B.jsxs)("h3",{className:"tips",children:[Object(B.jsx)("b",{style:{color:"#597ef7",fontSize:"14px"},children:"\u5982\u679c\u60a8\u63d0\u4ea4\u4e86\u4e0b\u65b9\u7684\u5185\u5bb9\uff0c\u5c06\u4e0d\u80fd\u518d\u5bf9\u8be5\u6295\u7968\u8fdb\u884c\u7f16\u8f91"}),Object(B.jsx)("b",{style:{color:"#f5222d"}})]}),Object(B.jsxs)(b.a,Object(d.a)(Object(d.a)({name:"validate_other"},be),{},{onFinish:function(e){p(!0),g.a.post("/api/vote/create",Object(d.a)(Object(d.a)({},e),{},{isMultiple:e.isMultiple?1:0,isAnonymous:e.isAnonymous?1:0,"date-time-picker":null,deadline:e["date-time-picker"].format("YYYY-MM-DD HH:mm:ss"),userInfo:n})).then((function(e){var t=e.data;m.b.success("\u63d0\u4ea4\u6210\u529f"),a.push("/vote/".concat(t.voteID))}),(function(e){m.b.error(e.response.data.msg),p(!1),-2===e.response.data.code&&setTimeout((function(){window.location.reload()}),800)}))},initialValues:{options:["",""]},children:[Object(B.jsx)(b.a.Item,{name:"title",rules:[{required:!0,message:"",whitespace:!0}],children:Object(B.jsx)(h.a,{addonBefore:Object(B.jsx)(pe.a,{}),placeholder:"\u6295\u7968\u6807\u9898",maxLength:70})}),Object(B.jsx)(b.a.Item,{name:"desc",children:Object(B.jsx)(je,{showCount:!0,maxLength:100,rows:4,placeholder:"\u6295\u7968\u63cf\u8ff0\uff0c\u53ef\u9009"})}),Object(B.jsx)(b.a.List,{name:"options",rules:[{validator:function(){var e=Object(j.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!(n.length<2)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("At least 2 passengers")));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}],children:function(e,t,n){var o=t.add,a=t.remove,r=n.errors;return Object(B.jsxs)(B.Fragment,{children:[e.map((function(t,n){return Object(B.jsxs)(b.a.Item,{children:[Object(B.jsx)(b.a.Item,Object(d.a)(Object(d.a)({},t),{},{rules:[{required:!0,whitespace:!0,message:""}],noStyle:!0,children:Object(B.jsx)(h.a,{addonBefore:"\u9009\u9879"+(n+1)})})),e.length>2?Object(B.jsx)(le.a,{className:"dynamic-delete-button",onClick:function(){return a(t.name)}}):null]},t.key)})),Object(B.jsxs)(b.a.Item,{children:[Object(B.jsx)(x.a,{type:"dashed",onClick:function(){return o()},icon:Object(B.jsx)(de.a,{}),children:"\u6dfb\u52a0\u9009\u9879"}),Object(B.jsx)(b.a.ErrorList,{errors:r})]})]})}}),Object(B.jsx)(b.a.Item,{name:"isMultiple",label:"\u591a\u9879\u9009\u62e9",valuePropName:"checked",children:Object(B.jsx)(se.a,{})}),Object(B.jsx)(b.a.Item,{name:"isAnonymous",label:"\u533f\u540d\u53d1\u8d77",valuePropName:"checked",children:Object(B.jsx)(se.a,{})}),Object(B.jsx)(b.a.Item,{name:"date-time-picker",rules:[{required:!0,message:""}],children:Object(B.jsx)(ce.a,{locale:Ae.a,placeholder:"\u9009\u62e9\u622a\u6b62\u65f6\u95f4",showTime:!0,format:"YYYY-MM-DD HH:mm",style:{width:"50%"}})}),Object(B.jsx)(b.a.Item,{wrapperCol:{sm:{offset:7}},children:Object(B.jsx)(x.a,{type:"primary",htmlType:"submit",loading:s,children:"\u521b\u5efa\u6295\u7968"})})]}))]})},ue=n(139),he=n(310),fe=n(316),xe=n(315),Oe=n(314),ve=n(309).a.Paragraph,ge=he.a.Panel,ye=[];for(var Ie in P.b)ye.push(P.b[Ie][3]);var Ce=function(e){var t=e.vote,n=e.hasTimedOut;return Object(B.jsxs)(xe.b,{column:1,col:2,size:"small",children:[Object(B.jsx)(xe.b.Item,{label:"\u6295\u7968\u63cf\u8ff0",children:t.desc}),Object(B.jsx)(xe.b.Item,{label:"\u6295\u7968\u7c7b\u578b",children:t.isMultiple?"\u591a\u9009\u6295\u7968":"\u5355\u9009\u6295\u7968"}),Object(B.jsx)(xe.b.Item,{label:"\u53d1\u8d77\u7528\u6237",children:t.creator?t.creator:"\u533f\u540d"}),Object(B.jsx)(xe.b.Item,{label:"\u622a\u6b62\u65f6\u95f4",children:t.deadline}),Object(B.jsx)(xe.b.Item,{label:"\u6295\u7968\u72b6\u6001",children:Object(B.jsx)(Oe.a,{status:n?"default":"processing",text:n?"\u5df2\u622a\u6b62":"\u8fdb\u884c\u4e2d"})})]})},we=function(e){var t=e.vote,n=e.hasTimedOut,a=Object(o.useState)(1),r=Object(c.a)(a,2),i=r[0],s=r[1],d=Object(l.h)();return Object(B.jsxs)("div",{className:"voteinfo-header",children:[Object(B.jsxs)("div",{className:"title-container",children:[Object(B.jsx)("b",{className:"vote-title",children:t.title}),Object(B.jsx)(ve,{style:{display:"inline-block",marginLeft:"0",marginRight:"10px"},copyable:{text:"https://starless.top".concat(d.pathname),tooltips:["\u590d\u5236\u6295\u7968\u94fe\u63a5","\u590d\u5236\u94fe\u63a5\u6210\u529f"]}}),Object(B.jsx)(x.a,{className:"voteinfo-display-button",type:"text",onClick:function(){s(1===i?-1:1)},children:1===i?"hide":"show"})]}),Object(B.jsx)(he.a,{className:"voteinfo-collapse",bordered:!1,activeKey:i,ghost:!0,children:Object(B.jsx)(ge,{header:"This is panel header with arrow icon",children:Object(B.jsx)(Ce,{vote:t,hasTimedOut:n})},"1")})]})};var Ee=function(e){var t=e.userInfo,n=Object(l.i)(),a=Object(o.useState)(!0),r=Object(c.a)(a,2),i=r[0],s=r[1],p=Object(o.useState)(),A=Object(c.a)(p,2),j=A[0],b=A[1],h=Object(o.useState)([]),f=Object(c.a)(h,2),v=f[0],y=f[1],C=Object(o.useState)(""),w=Object(c.a)(C,2),E=w[0],k=w[1],D=Object(o.useState)(!1),N=Object(c.a)(D,2),S=N[0],T=N[1],R=Object(o.useState)([]),P=Object(c.a)(R,2),J=P[0],U=P[1];Object(o.useEffect)((function(){g.a.get("/api/vote/normal/".concat(n.voteID)).then((function(e){var t=e.data;b(t.voteInfo),y(t.voteInfo.votings)}),(function(e){m.b.error(e.response.data.msg)}))}),[n.voteID]),Object(o.useEffect)((function(){if(j){if(Date.now()>new Date(j.vote.deadline).getTime())return m.b.info("\u6295\u7968\u5df2\u622a\u6b62"),T(!0),void s(!1);var e=new WebSocket("wss://starless.top/api/vote/normal/".concat(n.voteID)),t={timeout:15e3,timeoutObj:null,serverTimeoutObj:null,reset:function(){clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this.start()},start:function(){var t=this;this.timeoutObj=setTimeout((function(){e.send("Ping"),t.serverTimeoutObj=setTimeout((function(){e.close(),e=new WebSocket("wss://starless.top/api/vote/normal/".concat(n.voteID))}),t.timeout)}),this.timeout)}};return e.onopen=function(){e.send("hello"),t.start()},e.onmessage=function(e){var n=e.data;if("Pong"===n)return console.log("Received pong, sending ping"),void t.reset();(n=JSON.parse(n)).id?(k(n.id),s(!1)):y(n)},function(){return e.close()}}}),[n.voteID,j]);var q=function(e){var t=J.includes(e);U(t?J.filter((function(t){return t!==e})):[].concat(Object(ue.a)(J),[e]))},K=Object(o.useCallback)((function(e,o){if(Date.now()>new Date(j.vote.deadline).getTime())return m.b.error("\u6295\u7968\u5df2\u622a\u6b62"),void T(!0);if(g.a.post("/api/vote/voteup",{voteID:n.voteID,optionID:e,webSocketID:E,userInfo:t}).catch((function(e){m.b.error(e.response.data.msg),-2===e.response.data.code&&setTimeout((function(){window.location.reload()}),800)})),o)y(v.filter((function(n){return n.userID!==t.ID||n.optionID!==e})));else{var a=Object(d.a)(Object(d.a)({},t),{},{userID:t.ID,optionID:e});j.vote.isMultiple?y([].concat(Object(ue.a)(v),[a])):y([].concat(Object(ue.a)(v.filter((function(e){return e.userID!==t.ID}))),[a]))}}),[n.voteID,j,v,E]),Q=Object(o.useCallback)((function(e,t){if(0===t)return 0;var n=(e/t*100).toFixed();return"100"===n?"100":n}));if(!0===i)return Object(B.jsx)(L.a,{size:"large",tip:"Loading..."});var M=I.a.groupBy(v,"optionID"),Y=Array.from(new Map(v.map((function(e){return[e.name,e.avatar]})))),W=Y.length;return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(O.a,{justify:"center",children:Object(B.jsx)(u.a,{className:"viewvote-container",span:20,children:Object(B.jsxs)(O.a,{justify:"space-around",children:[Object(B.jsxs)(u.a,{className:"voteinfo-container bordered-container",span:16,children:[Object(B.jsx)(we,{vote:j.vote,hasTimedOut:S}),Object(B.jsx)(z.b,{size:"default",dataSource:j.options,renderItem:function(e,n){var o=M[e.optionID]||[],a=!!o.find((function(e){return e.userID===t.ID})),r=J.includes(e.optionID);return Object(B.jsxs)(z.b.Item,{className:"option-list-item",children:[Object(B.jsxs)(O.a,{justify:"space-between",children:[Object(B.jsxs)(u.a,{children:[Object(B.jsx)("span",{children:e.content}),Object(B.jsx)(fe.a,{checked:a,disabled:S,onChange:function(){return K(e.optionID,a)}}),Object(B.jsx)(x.a,{className:"voteinfo-display-button",type:"text",onClick:function(){return q(e.optionID)},children:r?"hide":"show"})]}),Object(B.jsx)(u.a,{children:Object(B.jsxs)("span",{className:"show-details-trigger-text",onClick:function(){return q(e.optionID)},style:{fontSize:"12px",color:"#828282",verticalAlign:"-5px",marginRight:"5px"},children:[o.length," ",1===o.length?"vote":"votes"]})})]}),Object(B.jsxs)(O.a,{children:[Object(B.jsx)(F.a,{status:"active",percent:Q(o.length,W),strokeColor:ye[3*n%ye.length]}),Object(B.jsx)(he.a,{className:"voteinfo-collapse",bordered:!1,activeKey:J,ghost:!0,children:Object(B.jsx)(ge,{header:"This is panel header with arrow icon",children:o.map((function(e,t){return Object(B.jsxs)("div",{style:{display:"inline-block"},children:[Object(B.jsx)(V.a,{size:"default",src:e.avatar}),Object(B.jsx)("span",{style:{marginRight:"13px"},children:e.name})]},e.name)}))},e.optionID)})]})]},e.optionID)}})]}),Object(B.jsx)(u.a,{className:"",span:6,children:Object(B.jsx)(te.a,{title:Object(B.jsx)("span",{children:"\u6295\u7968\u7528\u6237"}),children:Y.map((function(e){return Object(B.jsxs)("p",{children:[Object(B.jsx)(V.a,{size:"default",src:e[1]}),e[0]]},e[0])}))})})]})})})})};function Be(e){var t=e.props,n=t.userInfo,o=t.setUserInfo;return Object(B.jsxs)(l.d,{children:[Object(B.jsx)(l.b,{path:"/myvote",exact:!0,children:Object(B.jsx)(ie,{props:{userInfo:n,setUserInfo:o}})}),Object(B.jsx)(l.b,{path:"/create-vote",exact:!0,children:Object(B.jsx)(me,{props:{userInfo:n,setUserInfo:o}})}),Object(B.jsx)(l.b,{path:"/vote/:voteID",exact:!0,children:Object(B.jsx)(Ee,{userInfo:n})}),")"]})}var ke=K.a.Header,De=K.a.Content,Ne=K.a.Footer;var Se=function(){var e=Object(l.g)(),t=["/forgot-changepwd","/forgot-password","/home","/","/register","/login"],n=Object(o.useState)(),a=Object(c.a)(n,2),r=a[0],i=a[1],d=Object(o.useState)(),p=Object(c.a)(d,2),A=p[0],j=p[1];return Object(o.useEffect)((function(){g.a.get("/api/user/userInfo").then((function(e){var t=e.data;i(t.userInfo)}),(function(){t.includes(e.location.pathname)||e.push("/login")}))}),[]),Object(B.jsxs)(K.a,{children:[Object(B.jsx)(ke,{children:Object(B.jsx)(ee,{props:{userInfo:r,setUserInfo:i,selectedKey:A,setSelectedKey:j}})}),Object(B.jsx)(R.a,{className:"layout-divider header-divider"}),Object(B.jsx)(De,{children:Object(B.jsxs)(l.d,{children:[Object(B.jsx)(l.b,{path:"/forgot-changepwd",exact:!0,component:Q}),Object(B.jsx)(l.b,{path:"/forgot-password",exact:!0,component:M}),Object(B.jsx)(l.b,{path:"/home",exact:!0,children:Object(B.jsx)(q,{props:{userInfo:r,setSelectedKey:j}})}),Object(B.jsx)(l.b,{path:"/",exact:!0,children:Object(B.jsx)(l.a,{to:"/home"})}),Object(B.jsx)(l.b,{path:"/register",exact:!0,children:Object(B.jsx)(D,{props:{userInfo:r,setUserInfo:i,setSelectedKey:j}})}),Object(B.jsx)(l.b,{path:"/login",exact:!0,children:Object(B.jsx)(T,{props:{setUserInfo:i,setSelectedKey:j}})}),Object(B.jsx)(l.b,{path:"/",children:r&&Object(B.jsx)(Be,{props:{userInfo:r,setUserInfo:i}})})]})}),Object(B.jsx)(R.a,{className:"layout-divider footer-divider",style:{borderTopColor:"#f0f0f0 !important"}}),Object(B.jsx)(Ne,{children:Object(B.jsxs)(O.a,{justify:"space-between",children:[Object(B.jsx)(u.a,{children:Object(B.jsxs)("span",{children:["\xa9 2021 SimpleVote \xb7 ",Object(B.jsx)("a",{href:"https://github.com/AStarlessNight/simple-vote",children:"github"})]})}),Object(B.jsx)(u.a,{children:Object(B.jsx)(s.c,{to:"/home",children:"back to home"})})]})})]})};n(300);i.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(Se,{})})}),document.getElementById("root"))}},[[301,1,2]]]);
//# sourceMappingURL=main.14f335b3.chunk.js.map