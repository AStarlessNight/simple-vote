{"version":3,"sources":["webpack:///./src/css/index.less?09b4","css/index.less","Register.js","Login.js","HomePage.js","ForgotChangePwd.js","ForgotPassword.js","TopNav.js","MyVote.js","CreateVote.js","ViewVote.js","AuthorisedApp.js","App.js","index.js"],"names":["api","content","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_EXPORT___","push","formItemLayout","Register","props","history","useHistory","userInfo","setUserInfo","setSelectedKey","useState","loadingStatus","setLoadingStatus","useEffect","Form","useForm","form","span","className","style","fontSize","textDecoration","to","labelCol","offset","wrapperCol","onFinish","values","formData","FormData","name","append","axios","post","headers","then","data","message","success","msg","e","error","response","scrollToFirstError","Item","label","tooltip","hasFeedback","rules","required","whitespace","max","validator","debounce","_","value","a","username","code","Promise","resolve","reject","Error","placeholder","Password","dependencies","getFieldValue","type","valuePropName","getValueFromEvent","Array","isArray","fileList","test","size","listType","maxCount","beforeUpload","accept","icon","UploadOutlined","width","gutter","noStyle","src","height","sm","loading","htmlType","Login","addonBefore","UserOutlined","KeyOutlined","minWidth","colorAry","colorSet","presetPalettes","HomePage","displayVote","setDisplayVote","get","calRatio","useCallback","count","amount","ratio","toFixed","handleJump","url","justify","onClick","voteID","title","dataSource","renderItem","option","index","status","showInfo","strokeColor","percent","voteups","numberOfUsers","optionID","textAlign","margin","borderLeftColor","block","tip","ForgotChangePwd","link","search","useLocation","React","useMemo","URLSearchParams","useQuery","ForgotPassword","DropdownMenu","key","alert","LogoutOutlined","TopNav","selectedKey","mode","onSelect","selectedKeys","EditOutlined","HomeOutlined","FormOutlined","marginLeft","overlay","placement","trigger","preventDefault","avatar","DownOutlined","Meta","Card","TabPane","Tabs","MyVote","voteList","setVoteList","isLoading","setIsLoading","createList","create","map","it","idx","author","participateList","participate","window","location","reload","description","defaultActiveKey","tabPosition","marginTop","borderTop","tab","header","length","itemLayout","item","actions","datetime","TextArea","Input","CreateVote","color","isMultiple","isAnonymous","deadline","format","initialValues","maxLength","showCount","rows","List","fields","add","remove","errors","field","MinusCircleOutlined","PlusOutlined","ErrorList","locale","showTime","Paragraph","Typography","Panel","Collapse","VoteInfoDescriptionList","vote","hasTimedOut","column","col","desc","creator","text","VoteInfoHeader","voteInfoActiveKey","setVoteInfoActiveKey","display","marginRight","copyable","pathname","tooltips","bordered","activeKey","ghost","ViewVote","params","useParams","setLoading","voteInfo","setVoteInfo","votings","setVotings","webSocketID","setWebSocketID","setHasTimedOut","optionActiveKey","setOptionActiveKey","Date","now","getTime","info","ws","WebSocket","addEventListener","event","send","onmessage","JSON","parse","id","close","changeShowStatus","showDetails","includes","filter","submitVote","hasVoted","catch","userID","ID","thisVoting","groupedVotings","lodash","groupBy","userList","from","Map","currVotings","hasCurrUserVoted","find","checked","disabled","onChange","verticalAlign","user","AuthorisedApp","path","exact","Header","Layout","Content","Footer","App","excludedList","component","borderTopColor","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bd6f1342.chunk.js","sourcesContent":["var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/less-loader/dist/cjs.js!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ant-layout {\\n  background-color: #fff !important;\\n}\\n.ant-layout-header {\\n  background-color: #fff !important;\\n  padding: 0 !important;\\n}\\n.ant-layout-header .ant-menu {\\n  border-bottom: none !important;\\n}\\n.layout-divider {\\n  margin: 0 !important;\\n  border-color: #e5e5e5 !important;\\n}\\n.header-divider {\\n  margin-bottom: 25px !important;\\n}\\n.footer-divider {\\n  margin-top: 15px !important;\\n}\\n.ant-layout-content {\\n  background-color: #fff;\\n  min-height: calc(100vh - 150px) !important;\\n}\\n.ant-layout-content > div > div.ant-row {\\n  margin-top: 20px;\\n}\\n.ant-layout-footer {\\n  height: 30px !important;\\n  background-color: #fff !important;\\n  padding: 0 15px !important;\\n}\\n.ant-layout-footer span {\\n  font-family: Georgia, Cambria, \\\"Times New Roman\\\", Times, serif;\\n}\\n.unstyled-ant-menu-item,\\n.unstyled-ant-menu-item a {\\n  color: inherit !important;\\n}\\n.unselectable {\\n  user-select: none;\\n}\\n.ant-menu-item::after {\\n  border: none !important;\\n}\\n.register-container,\\n.login-container,\\n.create-vote-container {\\n  margin: 0 auto;\\n}\\n.register-container > h1,\\n.login-container > h1,\\n.create-vote-container > h1,\\n.register-container > p,\\n.login-container > p,\\n.create-vote-container > p {\\n  text-align: center;\\n}\\n.create-vote-container button.ant-btn-primary {\\n  width: 50%;\\n}\\n.voteinfo-container th {\\n  width: 30%;\\n}\\n.voteinfo-container td {\\n  width: 70%;\\n}\\n.voteinfo-container > .voteinfo-header {\\n  padding: 12px 25px 12px 25px ;\\n  border-bottom: 1px solid #dfdfdf !important;\\n}\\n.voteinfo-container > .voteinfo-header .ant-collapse-content {\\n  margin-top: 5px;\\n}\\n.voteinfo-container > .ant-list {\\n  padding: 0px 25px;\\n}\\n.voteinfo-container > .ant-list .ant-list-item {\\n  border-bottom: 1px solid #e0e0e0 !important;\\n}\\n.voteinfo-container > .ant-list .ant-list-item:last-child {\\n  border-bottom: none !important;\\n}\\n.voteinfo-container > .ant-list .show-details-trigger-text {\\n  user-select: none;\\n}\\n.voteinfo-container > .ant-list .show-details-trigger-text:hover {\\n  color: #1890ff !important;\\n  cursor: pointer !important;\\n  text-decoration: underline !important;\\n}\\n.voteinfo-container > .ant-list .ant-checkbox-wrapper {\\n  margin-left: 5px !important;\\n  margin-right: 5px !important;\\n}\\n.ant-card-bordered {\\n  border: 1px solid #dfdfdf !important;\\n}\\n.ant-card-bordered .ant-card-head {\\n  border-bottom: 1px solid #dfdfdf !important;\\n}\\n.ant-descriptions {\\n  flex: 100%;\\n  border: 1px solid #dfdfdf !important;\\n}\\n.bordered-container {\\n  border: 1px solid #dfdfdf !important;\\n}\\n.ant-list-item {\\n  border: none !important;\\n}\\n.voteinfo-collapse .ant-collapse-header {\\n  display: none !important;\\n}\\n.ant-btn-text {\\n  font-size: 12px  !important;\\n  color: #2f54eb !important;\\n  padding: 0 !important;\\n  margin: 0 10px 0 0 !important;\\n}\\n.ant-btn-text:hover,\\n.ant-btn-text:active,\\n.ant-btn-text:focus {\\n  background: #fff !important;\\n}\\n.viewvote-container .vote-title {\\n  font-size: 26px !important;\\n  margin-right: 5px;\\n}\\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-collapse-content-box {\\n  padding: 0 !important;\\n}\\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-descriptions {\\n  border: none !important;\\n}\\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-descriptions .ant-descriptions-item-label {\\n  font-size: 13px !important;\\n  font-weight: 700;\\n  color: #003a8c;\\n}\\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-descriptions .ant-descriptions-item-content {\\n  font-size: 13px !important;\\n}\\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-descriptions .ant-badge-status-text {\\n  font-size: 13px !important;\\n}\\n.viewvote-container .voteinfo-container .voteinfo-collapse .ant-descriptions .ant-descriptions-item {\\n  padding-bottom: 3px !important;\\n}\\n.viewvote-container .voteinfo-container .voteinfo-display-button > span {\\n  color: #828282 !important;\\n}\\n.viewvote-container .voteinfo-container .option-list-item {\\n  display: block !important;\\n}\\n.viewvote-container .voteinfo-container .option-list-item .ant-progress-text {\\n  margin-left: 3px !important;\\n}\\n.viewvote-container .ant-card-body {\\n  max-height: 500px;\\n  overflow: auto;\\n}\\n.myvote-tabpane {\\n  height: 300px;\\n  overflow: auto;\\n}\\n.myvote-list {\\n  border-bottom: 1px solid #f0f0f0 !important;\\n}\\n.link-to-vote {\\n  color: #0050b3;\\n}\\n.display-vote-list .ant-list-item {\\n  display: block;\\n}\\n.homepage-button {\\n  margin-top: 10px !important;\\n  border-color: #ff9c6e !important;\\n  color: #ff9c6e !important;\\n  border-radius: 10px !important;\\n}\\n.homepage-button:hover {\\n  background-color: #ff9c6e !important;\\n  color: #fff !important;\\n  border-color: #fff !important;\\n}\\n.homepage-container .link-to-vote {\\n  color: inherit !important;\\n}\\n.homepage-container .link-to-vote:hover {\\n  color: #ff9c6e !important;\\n  cursor: pointer;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/css/index.less\"],\"names\":[],\"mappings\":\"AAAA;EACI,iCAAA;AACJ;AACA;EACI,iCAAA;EACA,qBAAA;AACJ;AAHA;EAIQ,8BAAA;AAER;AAGA;EACI,oBAAA;EACA,gCAAA;AADJ;AAGA;EACI,8BAAA;AADJ;AAIA;EACI,2BAAA;AAFJ;AAOA;EACI,sBAAA;EACA,0CAAA;AALJ;AAGA;EAIQ,gBAAA;AAJR;AAUA;EACI,uBAAA;EACA,iCAAA;EACA,0BAAA;AARJ;AAKA;EAKQ,8DAAA;AAPR;AAYA;;EAEI,yBAAA;AAVJ;AAcA;EACI,iBAAA;AAZJ;AAgBA;EACI,uBAAA;AAdJ;AAkBA;;;EACI,cAAA;AAdJ;AAaA;;;;;;EAMQ,kBAAA;AAXR;AA4BA;EACQ,UAAA;AA1BR;AA8BA;EAEQ,UAAA;AA7BR;AA2BA;EAKQ,UAAA;AA7BR;AAwBA;EAQQ,6BAAA;EACA,2CAAA;AA7BR;AAoBA;EAWY,eAAA;AA5BZ;AAiBA;EAeQ,iBAAA;AA7BR;AAcA;EAiBY,2CAAA;AA5BZ;AA6BY;EACI,8BAAA;AA3BhB;AAQA;EAuBY,iBAAA;AA5BZ;AA6BY;EACI,yBAAA;EACA,0BAAA;EACA,qCAAA;AA3BhB;AAAA;EA+BY,2BAAA;EACA,4BAAA;AA5BZ;AAiCA;EACI,oCAAA;AA/BJ;AA8BA;EAGQ,2CAAA;AA9BR;AAkCA;EACI,UAAA;EACA,oCAAA;AAhCJ;AAmCA;EACI,oCAAA;AAjCJ;AAoCA;EACI,uBAAA;AAlCJ;AAsCA;EAKQ,wBAAA;AAxCR;AA6CA;EACI,2BAAA;EACA,yBAAA;EAEA,qBAAA;EACA,6BAAA;AA5CJ;AA8CI;;;EACI,2BAAA;AA1CR;AAgDA;EAEQ,0BAAA;EACA,iBAAA;AA/CR;AA4CA;EAQgB,qBAAA;AAjDhB;AAyCA;EAWgB,uBAAA;AAjDhB;AAsCA;EAaoB,0BAAA;EACA,gBAAA;EACA,cAAA;AAhDpB;AAiCA;EAkBoB,0BAAA;AAhDpB;AA8BA;EAuBoB,0BAAA;AAlDpB;AA2BA;EA0BoB,8BAAA;AAlDpB;AAwBA;EAgCgB,yBAAA;AArDhB;AAqBA;EAoCY,yBAAA;AAtDZ;AAkBA;EAsCgB,2BAAA;AArDhB;AAeA;EA2CQ,iBAAA;EACA,cAAA;AAvDR;AA2DA;EACI,aAAA;EACA,cAAA;AAzDJ;AA6DA;EACI,2CAAA;AA3DJ;AA8DA;EACI,cAAA;AA5DJ;AAgEA;EAEQ,cAAA;AA/DR;AAoEA;EACI,2BAAA;EACA,gCAAA;EACA,yBAAA;EACA,8BAAA;AAlEJ;AAmEI;EACI,oCAAA;EACA,sBAAA;EACA,6BAAA;AAjER;AAsEA;EAEQ,yBAAA;AArER;AAsEQ;EACI,yBAAA;EACA,eAAA;AApEZ\",\"sourcesContent\":[\".ant-layout {\\n    background-color: #fff !important;\\n}\\n.ant-layout-header{\\n    background-color: #fff !important;\\n    padding: 0 !important;\\n    .ant-menu {\\n        border-bottom: none !important;\\n    }\\n}\\n\\n\\n.layout-divider {\\n    margin: 0 !important;\\n    border-color: #e5e5e5 !important;\\n}\\n.header-divider {\\n    margin-bottom: 25px !important;\\n}\\n\\n.footer-divider {\\n    margin-top: 15px !important;\\n}\\n\\n\\n\\n.ant-layout-content {\\n    background-color: #fff;\\n    min-height: calc(100vh - 150px) !important;\\n    > div > div.ant-row {\\n        margin-top: 20px;\\n    }\\n    // min-width: 500px !important;\\n}\\n\\n\\n.ant-layout-footer {\\n    height: 30px !important;\\n    background-color: #fff  !important;\\n    padding: 0 15px !important;\\n    span {\\n        font-family: Georgia,Cambria,\\\"Times New Roman\\\",Times,serif;\\n    }\\n}\\n\\n\\n.unstyled-ant-menu-item, \\n.unstyled-ant-menu-item a{\\n    color: inherit !important;\\n}\\n\\n\\n.unselectable {\\n    user-select: none;\\n}\\n\\n\\n.ant-menu-item::after {\\n    border: none !important;\\n}\\n\\n\\n.register-container, .login-container, .create-vote-container {\\n    margin: 0 auto;\\n    // > h1 {\\n    //     margin-top: 15px !important;\\n    // }\\n    > h1 , > p{\\n        text-align: center;\\n    };\\n\\n}\\n\\n\\n\\n// .create-vote-container {\\n//     width: 70%;\\n//     margin: 0 20% 0 auto;\\n//     > h2 , > p{\\n//         text-align: center;\\n//     };\\n//     button.ant-btn-primary {\\n//         width: 30%;\\n//     }\\n// }\\n.create-vote-container button.ant-btn-primary {\\n        width: 50%;\\n        // height: 35px !important;\\n}\\n\\n.voteinfo-container {\\n    th {\\n        width: 30%;\\n    };\\n    td {\\n        width: 70%;\\n    };\\n    > .voteinfo-header {\\n        padding: 12px 25px 12px 25px ;\\n        border-bottom: 1px solid #dfdfdf !important;\\n        .ant-collapse-content {\\n            margin-top: 5px;\\n        }\\n    }\\n    > .ant-list {\\n        padding: 0px 25px;\\n        .ant-list-item {\\n            border-bottom: 1px solid #e0e0e0 !important;\\n            &:last-child {\\n                border-bottom: none !important;\\n            }\\n        }\\n        .show-details-trigger-text {\\n            user-select: none;\\n            &:hover {\\n                color: #1890ff !important;\\n                cursor: pointer !important;\\n                text-decoration: underline !important;\\n            }\\n        }\\n        .ant-checkbox-wrapper {\\n            margin-left: 5px !important;\\n            margin-right: 5px !important;\\n        }\\n    }\\n\\n}\\n.ant-card-bordered {\\n    border: 1px solid #dfdfdf !important;\\n    .ant-card-head {\\n        border-bottom: 1px solid #dfdfdf !important;\\n    }\\n}\\n\\n.ant-descriptions {\\n    flex: 100%;\\n    border: 1px solid #dfdfdf !important;\\n}\\n\\n.bordered-container {\\n    border: 1px solid #dfdfdf !important;\\n}\\n\\n.ant-list-item {\\n    border: none !important;\\n}\\n\\n\\n.voteinfo-collapse  {\\n    // .ant-collapse-item {\\n    //     border: none !important;\\n    // };\\n    .ant-collapse-header {\\n        display: none !important;\\n    }\\n}\\n\\n\\n.ant-btn-text {\\n    font-size: 12px  !important;\\n    color: #2f54eb !important;\\n    // color: #828282 !important;\\n    padding: 0 !important;\\n    margin: 0 10px 0 0 !important;\\n    // transform: scale(0.85);\\n    &:hover, &:active, &:focus {\\n        background: #fff !important;\\n    }\\n    \\n}\\n\\n\\n.viewvote-container  {\\n    .vote-title {\\n        font-size: 26px !important;\\n        margin-right: 5px;\\n    }\\n    .voteinfo-container {\\n        .voteinfo-collapse {\\n            .ant-collapse-content-box {\\n                padding: 0 !important;\\n            };\\n            .ant-descriptions {\\n                border: none !important;\\n                .ant-descriptions-item-label {\\n                    font-size: 13px !important;\\n                    font-weight: 700;\\n                    color:#003a8c;\\n                }\\n                .ant-descriptions-item-content {\\n                    font-size: 13px !important;\\n                    // font-weight: 600;\\n\\n                }\\n                .ant-badge-status-text {\\n                    font-size: 13px !important;\\n                }\\n                .ant-descriptions-item {\\n                    padding-bottom: 3px !important;\\n                }\\n            }\\n        }\\n        .voteinfo-display-button{\\n            > span {\\n                color: #828282 !important;\\n            }\\n        }\\n        .option-list-item {\\n            display: block !important;\\n            .ant-progress-text {\\n                margin-left: 3px !important;\\n            }\\n        }\\n    }\\n    .ant-card-body {\\n        max-height: 500px;\\n        overflow: auto;\\n    }\\n}\\n\\n.myvote-tabpane {\\n    height: 300px;\\n    overflow: auto;\\n}\\n\\n\\n.myvote-list {\\n    border-bottom: 1px solid #f0f0f0 !important;\\n}\\n\\n.link-to-vote {\\n    color: #0050b3;\\n}\\n\\n\\n.display-vote-list {\\n    .ant-list-item {\\n        display: block;\\n    }\\n}\\n\\n\\n.homepage-button {\\n    margin-top: 10px !important;\\n    border-color: #ff9c6e !important; \\n    color: #ff9c6e !important;\\n    border-radius:10px !important;\\n    &:hover {\\n        background-color: #ff9c6e !important;\\n        color: #fff !important;\\n        border-color: #fff !important; \\n    }\\n}\\n\\n\\n.homepage-container {\\n    .link-to-vote {\\n        color: inherit !important;\\n        &:hover {\\n            color: #ff9c6e !important;\\n            cursor: pointer;\\n            // text-decoration: underline 10% !important;\\n        }\\n    }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/* eslint-disable */\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory } from \"react-router\"\r\n\r\nimport {\r\n    Form,\r\n    Input,\r\n    Row,\r\n    Col,\r\n    Button,\r\n    Upload,\r\n    message\r\n} from 'antd';\r\nimport axios from 'axios';\r\nimport _ from \"lodash\"\r\nimport { NavLink } from 'react-router-dom';\r\nimport debounce from 'debounce-promise'\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nconst formItemLayout = {\r\n};\r\n\r\n\r\nfunction Register({ props }) {\r\n    const history = useHistory()\r\n    const { userInfo, setUserInfo, setSelectedKey } = props\r\n    const [loadingStatus, setLoadingStatus] = useState(false)\r\n    useEffect(() => {\r\n        setSelectedKey(\"login\")\r\n    }, [])\r\n    const [form] = Form.useForm();\r\n\r\n    const onFinish = (values) => {\r\n        setLoadingStatus(true)\r\n        const formData = new FormData();\r\n        for (const name in values) {\r\n            if (name !== \"avatar\" && name !== \"captcha\") {\r\n                formData.append(name, values[name])\r\n            }\r\n        }\r\n        formData.append(\"captcha\", values[\"captcha\"])\r\n        formData.append(\"avatar\", values[\"avatar\"]?.[0]?.[\"originFileObj\"])\r\n        axios.post(\"/api/user/register\", formData, {\r\n            headers: {\r\n                \"Content-type\": \"multipart/form-data\"\r\n            }\r\n        }).then(({ data }) => {\r\n            message.success(data.msg)\r\n            if (!userInfo) {\r\n                setUserInfo(data.userInfo)\r\n            }\r\n            history.push(\"/home\")\r\n        }, (e) => {\r\n            message.error(e.response.data.msg)\r\n            setLoadingStatus(false)\r\n        })\r\n    };\r\n\r\n    const getFile = (e) => {\r\n        if (Array.isArray(e)) {\r\n            return e;\r\n        }\r\n        return e && e.fileList;\r\n    };\r\n\r\n\r\n    return (\r\n        <Col span={21} className=\"register-container\">\r\n            <h1 style={{ fontSize: \"25px\", }}>注册</h1>\r\n            <p>如已有账号，请\r\n                <NavLink style={{ textDecoration: 'none' }} to='/login'>登录</NavLink>\r\n            </p>\r\n            <Form\r\n                {...formItemLayout}\r\n                form={form}\r\n                labelCol={{ offset: 2, span: 6 }}\r\n                wrapperCol={{ span: 10 }}\r\n                onFinish={onFinish}\r\n                scrollToFirstError\r\n            >\r\n                <Form.Item\r\n                    name=\"username\"\r\n                    label=\"用户名\"\r\n                    tooltip=\"用于登陆及展示给他人\"\r\n                    hasFeedback\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入用户名',\r\n                            whitespace: true,\r\n                        },\r\n                        {\r\n                            max: 10,\r\n                            message: \"超出用户名长度限制\"\r\n                        },\r\n                        {\r\n                            validator: debounce(async function (_, value) {\r\n                                let res = await axios.post('/api/user/register-check', {\r\n                                    username: value,\r\n                                })\r\n                                if (res.data.code === 0) {\r\n                                    return Promise.resolve()\r\n                                } else {\r\n                                    return Promise.reject(new Error('该用户名已被注册'))\r\n                                }\r\n                            }, 500)\r\n                        }\r\n                    ]}\r\n                >\r\n                    <Input placeholder=\"1~10个字符\" />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"password\"\r\n                    label=\"密码\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入密码',\r\n                        },\r\n                    ]}\r\n                    hasFeedback\r\n                >\r\n                    <Input.Password />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    name=\"confirm\"\r\n                    label=\"确认密码\"\r\n                    dependencies={['password']}\r\n                    hasFeedback\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入密码',\r\n                        },\r\n                        ({ getFieldValue }) => ({\r\n                            validator(_, value) {\r\n                                if (!value || getFieldValue('password') === value) {\r\n                                    return Promise.resolve();\r\n                                }\r\n\r\n                                return Promise.reject(new Error('密码不一致'));\r\n                            },\r\n                        }),\r\n                    ]}\r\n                >\r\n                    <Input.Password />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    name=\"email\"\r\n                    label=\"邮箱\"\r\n                    rules={[\r\n                        {\r\n                            type: 'email',\r\n                            message: '请输入有效的邮箱地址',\r\n                        },\r\n                    ]}\r\n                    hasFeedback\r\n                >\r\n                    <Input placeholder=\"选填，用于找回密码\" />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    valuePropName=\"fileList\"\r\n                    getValueFromEvent={getFile}\r\n                    label=\"头像\"\r\n                    name=\"avatar\"\r\n                    rules={[\r\n                        {\r\n                            validator: (_, value) => {\r\n                                if (!(value?.[0])) {\r\n                                    return Promise.resolve()\r\n                                }\r\n                                if (!(/^image\\//).test(value[0].type)) {\r\n                                    return Promise.reject(new Error(\"文件类型错误\"))\r\n                                }\r\n                                if (value[0].size < 1 * 1024 * 1024) {\r\n                                    return Promise.resolve();\r\n                                } else {\r\n                                    return Promise.reject(new Error('图片大小超出1M'));\r\n                                }\r\n                            }\r\n                        }\r\n                    ]}\r\n                >\r\n                    <Upload\r\n                        listType=\"picture\"\r\n                        maxCount={1}\r\n                        beforeUpload={() => false}\r\n                        accept={\"image/*\"}\r\n                    >\r\n                        <Button icon={<UploadOutlined />} style={{ width: \"150px\" }}>上传头像</Button>\r\n                    </Upload>\r\n                </Form.Item>\r\n                <Form.Item label=\"验证码\"\r\n                    required=\"true\">\r\n                    <Row gutter={8}>\r\n                        <Col span={12}>\r\n                            <Form.Item\r\n                                name=\"captcha\"\r\n                                noStyle\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: '请输入图中验证码',\r\n                                    },\r\n                                ]}\r\n\r\n                            >\r\n                                <Input placeholder=\"不区分大小写\" />\r\n                            </Form.Item>\r\n                        </Col>\r\n                        <Col span={6}>\r\n                            <img className=\"register-captcha\" src=\"/api/captcha\" style={{ height: \"35px\" }} />\r\n                        </Col>\r\n                    </Row>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    wrapperCol={{ sm: { offset: 9 } }}\r\n                    className=\"submit-button\">\r\n                    <Button loading={loadingStatus} type=\"primary\" htmlType=\"submit\" style={{ width: \"40%\" }}>\r\n                        注册\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n\r\n        </Col>\r\n    )\r\n}\r\n\r\nexport default Register","/* eslint-disable */\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { useHistory } from \"react-router\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Col,\r\n  message\r\n} from 'antd';\r\n\r\nimport { UserOutlined, KeyOutlined } from '@ant-design/icons';\r\n\r\n\r\n\r\nfunction Login({ props }) {\r\n  const { setUserInfo, setSelectedKey } = props\r\n  const history = useHistory()\r\n  const [loadingStatus, setLoadingStatus] = useState(false)\r\n  const [form] = Form.useForm();\r\n  const onFinish = (values) => {\r\n    setLoadingStatus(true)\r\n    axios.post(\"/api/user/login\", values).then(({ data }) => {\r\n      message.success(data.msg)\r\n      setUserInfo(data.userInfo)\r\n      history.push(\"/home\")\r\n    }, e => {\r\n      message.error(e.response.data.msg)\r\n      setLoadingStatus(false)\r\n    }\r\n    )\r\n  }\r\n  useEffect(() => {\r\n    setSelectedKey(\"login\")\r\n  })\r\n  return (\r\n    <Col span={8} className=\"login-container\">\r\n      <h1 style={{ fontSize: \"25px\", }}>登录</h1>\r\n      <p>如尚未拥有账号，请\r\n        <NavLink style={{ textDecoration: 'none' }} to='/register'>注册</NavLink>\r\n      </p>\r\n      <Form\r\n        form={form}\r\n        onFinish={onFinish}\r\n        scrollToFirstError\r\n      >\r\n        <Form.Item\r\n          name=\"username\"\r\n          tooltip=\"用于登陆及展示给他人\"\r\n\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '请输入用户名',\r\n              whitespace: true,\r\n            },\r\n          ]}\r\n        >\r\n          <Input addonBefore={<UserOutlined />} placeholder=\"请输入用户名\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '请输入密码',\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password addonBefore={<KeyOutlined />} placeholder=\"请输入密码\" />\r\n        </Form.Item>\r\n        <p>如忘记密码，可\r\n          <NavLink style={{ textDecoration: 'none' }} to='/forgot-password'>找回密码</NavLink>\r\n        </p>\r\n        <Form.Item\r\n          wrapperCol={{ sm: { offset: 8 } }}\r\n          className=\"submit-button\">\r\n          <Button type=\"primary\" loading={loadingStatus} htmlType=\"submit\" style={{ minWidth: \"50px\", width: \"53%\" }}>\r\n            登录\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Col>\r\n  )\r\n}\r\n\r\nexport default Login\r\n\r\n","/* eslint-disable */\r\nimport axios from \"axios\"\r\nimport React, { useEffect, useState, useCallback } from \"react\"\r\nimport { Link, NavLink, Route, useRouteMatch } from \"react-router-dom\"\r\nimport { useHistory } from \"react-router\"\r\nimport {\r\n    Row,\r\n    Col,\r\n    Button,\r\n    message,\r\n    List,\r\n    Progress,\r\n    Divider,\r\n} from 'antd';\r\nimport { Spin } from 'antd';\r\nimport { presetPalettes } from '@ant-design/colors';\r\nlet colorAry = []\r\nfor (let colorSet in presetPalettes) {\r\n    colorAry.push(presetPalettes[colorSet][4])\r\n}\r\n\r\n\r\nfunction HomePage({ props }) {\r\n    const { userInfo, setSelectedKey } = props\r\n    const [displayVote, setDisplayVote] = useState()\r\n    const history = useHistory()\r\n    useEffect(() => {\r\n        setSelectedKey(\"home\")\r\n        axios.get(\"/api/vote/display-vote\").then(({ data }) => {\r\n            setDisplayVote(data)\r\n        }, (e) => {\r\n            if (e.response.data.code === -1) {\r\n                message.error(e.response.data.msg)\r\n            } else {\r\n                message.error(\"获取展示投票信息失败\")\r\n            }\r\n        })\r\n    }, [])\r\n    const calRatio = useCallback((count, amount) => {\r\n        if (amount === 0) {\r\n            return 0\r\n        }\r\n        let ratio = (count / amount * 100).toFixed()\r\n        return ratio === \"100\" ? \"100\" : ratio\r\n    }, [])\r\n    const handleJump = useCallback((url) => {\r\n        if (!userInfo) {\r\n            history.push(\"/login\")\r\n        } else {\r\n            history.push(url)\r\n        }\r\n    }, [userInfo])\r\n\r\n    if (!displayVote) {\r\n        return <Spin size=\"large\" tip=\"Loading...\"></Spin>\r\n    }\r\n    return (\r\n        <Row className=\"homepage-container\" justify=\"center\">\r\n            <Col span={17}>\r\n                <Row justify=\"center\">\r\n                    <Col span={10} >\r\n                        <h2 style={{}}><span onClick={() => handleJump(`/vote/${displayVote[0].voteID}`)} className=\"link-to-vote\" to={`/vote/${displayVote[0].voteID}`}>{displayVote[0].title}</span> </h2>\r\n                        <List\r\n                            className=\"display-vote-list\"\r\n                            dataSource={displayVote[0].options}\r\n                            renderItem={(option, index) => {\r\n                                return (\r\n                                    <List.Item key={option.optionID}>\r\n                                        <div>{option.content}</div>\r\n                                        <Progress status=\"active\" showInfo={true} strokeColor={colorAry[5 + index * 2]} percent={calRatio(option.voteups, displayVote[0].numberOfUsers)}></Progress>\r\n                                    </List.Item>\r\n                                )\r\n                            }}\r\n                        >\r\n                        </List>\r\n                    </Col>\r\n                    <Col span={3} style={{ textAlign: \"center\" }}>\r\n                        <Divider type=\"vertical\" style={{ height: \"100%\", margin: \"0 auto\", borderLeftColor: \"#dfdfdf\" }} />\r\n                    </Col>\r\n                    <Col span={10} >\r\n                        <h2 style={{}}><span className=\"link-to-vote\" onClick={() => handleJump(`/vote/${displayVote[1].voteID}`)}>{displayVote[1].title}</span></h2>\r\n                        <List\r\n                            className=\"display-vote-list\"\r\n                            dataSource={displayVote[1].options}\r\n                            renderItem={(option, index) => {\r\n                                return (\r\n                                    <List.Item key={option.optionID}>\r\n                                        <div>{option.content}</div>\r\n                                        <Progress status=\"active\" showInfo={true} strokeColor={colorAry[5 + index * 2]} percent={calRatio(option.voteups, displayVote[1].numberOfUsers)}></Progress>\r\n                                    </List.Item>\r\n                                )\r\n                            }}\r\n                        >\r\n                        </List>\r\n                    </Col>\r\n                </Row>\r\n                <Row justify=\"center\">\r\n                    <Col span={11}><Button className=\"homepage-button\" block={true} onClick={() => handleJump(\"/create-vote\")}><b>创&nbsp;&nbsp;建&nbsp;&nbsp;投&nbsp;&nbsp;票</b></Button></Col>\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default HomePage","/* eslint-disable */\r\n\r\nimport axios from \"axios\"\r\nimport React from \"react\"\r\nimport {} from \"react\"\r\nimport { useInput } from \"react-hanger\"\r\nimport { useLocation, useRouteMatch, useHistory } from \"react-router\"\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Col,\r\n    message\r\n} from 'antd';\r\nimport { KeyOutlined } from '@ant-design/icons';\r\n\r\nfunction useQuery() {\r\n    const { search } = useLocation();\r\n\r\n    return React.useMemo(() => new URLSearchParams(search), [search]);\r\n}\r\n\r\n\r\n\r\nexport default function ForgotChangePwd() {\r\n    const history = useHistory()\r\n    const link = useQuery().get(\"link\")\r\n    const onFinish = (values) => {\r\n        axios.post(\"/api/user/forgot-changepwd\", {\r\n            link,\r\n            ...values,\r\n        }).then(({data}) => {\r\n            message.success(data.msg)\r\n            history.push(\"/home\")\r\n        }, (e) => {\r\n            message.error(e.response.data.msg)\r\n        })\r\n    }\r\n    return (\r\n        <Col span={8} className=\"login-container\">\r\n            <h1 style={{ fontSize: \"25px\", }}>重置密码</h1>\r\n            <Form\r\n                onFinish={onFinish}\r\n                scrollToFirstError\r\n            >\r\n                <Form.Item\r\n                    name=\"password\"\r\n                    hasFeedback\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"\",\r\n                            whitespace: true,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input.Password addonBefore={<KeyOutlined />} placeholder=\"请输入密码\" />\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item\r\n                    name=\"confirm\"\r\n                    dependencies={['password']}\r\n                    hasFeedback\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '请输入密码',\r\n                        },\r\n                        ({ getFieldValue }) => ({\r\n                            validator(_, value) {\r\n                                if (!value || getFieldValue('password') === value) {\r\n                                    return Promise.resolve();\r\n                                }\r\n\r\n                                return Promise.reject(new Error('密码不一致'));\r\n                            },\r\n                        }),\r\n                    ]}\r\n                >\r\n                    <Input.Password addonBefore={<KeyOutlined />} placeholder=\"请再输入一遍密码\" />\r\n\r\n                </Form.Item>\r\n\r\n\r\n\r\n                <Form.Item\r\n                    wrapperCol={{ sm: { offset: 8 } }}\r\n                    className=\"submit-button\">\r\n                    <Button type=\"primary\" htmlType=\"submit\" style={{ minWidth: \"50px\", width: \"53%\" }}>\r\n                        提交\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Col>\r\n    )\r\n}\r\n","/* eslint-disable */\r\nimport axios from \"axios\"\r\nimport React from \"react\"\r\nimport { useState } from \"react\"\r\nimport { useInput } from \"react-hanger\"\r\nimport {\r\n    Form,\r\n    Input,\r\n    Button,\r\n    Col,\r\n    message\r\n} from 'antd';\r\nimport { UserOutlined} from '@ant-design/icons';\r\n\r\nfunction ForgotPassword() {\r\n    const [loadingStatus, setLoadingStatus] = useState(false)\r\n    const onFinish = (values) => {\r\n        setLoadingStatus(true)\r\n        axios.post(\"/api/user/forgot-password\", values).then(({ data }) => {\r\n            message.success(data.msg)\r\n            setLoadingStatus(false)\r\n        }, (e) => {\r\n            message.error(e.response.data.msg)\r\n            setLoadingStatus(false)\r\n        })\r\n    }\r\n    return (\r\n        <Col span={8} className=\"login-container\">\r\n            <h1 style={{ fontSize: \"25px\", }}>找回密码</h1>\r\n            <Form\r\n                onFinish={onFinish}\r\n                scrollToFirstError\r\n            >\r\n                <Form.Item\r\n                    name=\"username\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: \"\",\r\n                            whitespace: true,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input addonBefore={<UserOutlined />} placeholder=\"请输入用户名\" />\r\n                </Form.Item>\r\n                <Form.Item\r\n                    wrapperCol={{ sm: { offset: 8 } }}\r\n                    className=\"submit-button\">\r\n                    <Button loading={loadingStatus} type=\"primary\" htmlType=\"submit\" style={{ minWidth: \"50px\", width: \"53%\" }}>\r\n                        提交\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Col>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword","/* eslint-disable */\r\n\r\nimport React from \"react\"\r\nimport {\r\n  Link, NavLink\r\n} from \"react-router-dom\"\r\nimport { useHistory } from \"react-router\";\r\nimport { Menu, Dropdown, Avatar } from 'antd';\r\nimport { LogoutOutlined, FormOutlined, HomeOutlined, DownOutlined, EditOutlined } from '@ant-design/icons';\r\nimport axios from \"axios\";\r\n\r\nconst DropdownMenu = function ({ setUserInfo }) {\r\n\r\n  const history = useHistory()\r\n  return (<Menu onClick={({ key }) => {\r\n    if (key !== \"logout\") {\r\n      return\r\n    }\r\n    axios.post(\"/api/user/logout\", {}).then(() => {\r\n      setUserInfo()\r\n      history.push(\"/home\")\r\n    }, (e) => {\r\n      alert(\"logout error\")\r\n    })\r\n  }}>\r\n    <Menu.Item key=\"info\" >\r\n      <NavLink style={{ textDecoration: 'none' }} to='/myvote'>个人中心</NavLink>\r\n    </Menu.Item>\r\n    <Menu.Item key=\"logout\" icon={<LogoutOutlined />}>\r\n      登出\r\n    </Menu.Item>\r\n  </Menu>)\r\n}\r\n\r\nexport default function TopNav({ props }) {\r\n  const { userInfo, setUserInfo, selectedKey, setSelectedKey } = props\r\n  const history = useHistory()\r\n  return (\r\n    <Menu mode=\"horizontal\" onClick={({ key }) => {\r\n      if (key === \"create\" && (!userInfo)) {\r\n        history.push(\"/login\")\r\n      }\r\n    }} onSelect={({ key }) => {\r\n      setSelectedKey(key)\r\n    }} selectedKeys={selectedKey}>\r\n      <Menu.Item key=\"edit\" className={\"unstyled-ant-menu-item\"} icon={<EditOutlined style={{ fontSize: '21px' }} />} >\r\n        <NavLink style={{ fontSize: \"21px\", textDecoration: 'none' }} to='/home'>SimpleVote</NavLink>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"home\" icon={<HomeOutlined />}>\r\n        <NavLink style={{ textDecoration: 'none' }} to='/home'>首页</NavLink>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"create\" icon={<FormOutlined />}>\r\n        <Link style={{ textDecoration: 'none' }} to='/create-vote'>创建投票</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"login\" style={{ marginLeft: \"auto\" }}>\r\n        <NavLink style={{ textDecoration: 'none' }} to='/register'>注册 / 登录</NavLink>\r\n      </Menu.Item>\r\n      {\r\n        userInfo && (\r\n          <Menu.Item key=\"user\" >\r\n            <Dropdown overlay={DropdownMenu({ setUserInfo })} placement=\"bottomRight\" trigger=\"hover\">\r\n              <a className=\"ant-dropdown-link unselectable\" onClick={e => e.preventDefault()} >\r\n                <Avatar size=\"small\" src={userInfo.avatar} />{userInfo.name} <DownOutlined />\r\n              </a>\r\n            </Dropdown>\r\n          </Menu.Item>\r\n        )\r\n      }\r\n    </Menu>\r\n  )\r\n}\r\n\r\n","/* eslint-disable */\r\nimport axios from \"axios\"\r\nimport React, { useState, useEffect } from \"react\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport { Tabs, Row, Col, message, Card, Avatar, Spin } from 'antd';\r\nimport { Comment, List } from 'antd';\r\n\r\n\r\n\r\nconst { Meta } = Card;\r\nconst { TabPane } = Tabs;\r\n\r\n\r\nexport default function MyVote({ props }) {\r\n    const { userInfo } = props\r\n    let [voteList, setVoteList] = useState({})\r\n    let [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        axios.post(\"/api/vote/myvote\", {\r\n            userInfo\r\n        }).then(({ data }) => {\r\n            const createList = data.voteList.create.map((it, idx) => ({\r\n                author: it.name ? it.name : \"匿名\",\r\n                avatar: it.avatar,\r\n                content: <p><NavLink className=\"link-to-vote\" to={\"/vote/\" + it.voteID}>{it.title}</NavLink></p>,\r\n            }))\r\n\r\n            const participateList = data.voteList.participate.map((it, idx) => ({\r\n                author: it.name ? it.name : \"匿名\",\r\n                avatar: it.avatar,\r\n                content: <p><NavLink className=\"link-to-vote\" to={\"/vote/\" + it.voteID}>{it.title}</NavLink></p>,\r\n            }))\r\n            setVoteList({ createList, participateList })\r\n            setIsLoading(false)\r\n        }, (e) => {\r\n            message.error(e.response.data.msg)\r\n            //特殊错误处理\r\n            window.location.reload()\r\n        })\r\n    }, [])\r\n    if (isLoading) {\r\n        return <Spin size=\"large\" tip=\"Loading...\"></Spin>\r\n    }\r\n\r\n    return (\r\n        <Row justify=\"center\">\r\n            <Col span={18}>\r\n                <Card\r\n                >\r\n                    <Meta\r\n                        avatar={<Avatar src={userInfo.avatar} size=\"large\" />}\r\n                        title={userInfo.name}\r\n                        description=\"个人描述\"\r\n                    />\r\n                    <Tabs defaultActiveKey=\"1\" tabPosition=\"left\" style={{ marginTop: \"20px\", borderTop: \"1px solid #dfdfdf\" }}>\r\n                        <TabPane className=\"myvote-tabpane\" tab={\"我发起的\"} key=\"create\">\r\n                            <List\r\n                                className=\"comment-list\"\r\n                                header={voteList.createList.length + (voteList.createList.length === 1 ? \" vote\" : \" votes\")}\r\n                                itemLayout=\"horizontal\"\r\n                                dataSource={voteList.createList}\r\n                                renderItem={item => (\r\n                                    <li className=\"myvote-list\">\r\n                                        <Comment\r\n                                            actions={item.actions}\r\n                                            author={item.author}\r\n                                            avatar={item.avatar}\r\n                                            content={item.content}\r\n                                            datetime={item.datetime}\r\n                                        />\r\n                                    </li>\r\n                                )}\r\n                            />\r\n                        </TabPane>\r\n                        <TabPane className=\"myvote-tabpane\" tab={\"我参与的\"} key=\"participate\">\r\n                            <List\r\n                                className=\"comment-list\"\r\n                                header={voteList.participateList.length + (voteList.participateList.length === 1 ? \" vote\" : \" votes\")}\r\n                                itemLayout=\"horizontal\"\r\n                                dataSource={voteList.participateList}\r\n                                renderItem={item => (\r\n                                    <li className=\"myvote-list\">\r\n                                        <Comment\r\n                                            actions={item.actions}\r\n                                            author={item.author}\r\n                                            avatar={item.avatar}\r\n                                            content={item.content}\r\n                                            datetime={item.datetime}\r\n                                        />\r\n                                    </li>\r\n                                )}\r\n                            />\r\n                        </TabPane>\r\n                    </Tabs>\r\n                </Card>\r\n            </Col>\r\n        </Row>\r\n    )\r\n}","/* eslint-disable */\r\nimport {\r\n    Form,\r\n    Input,\r\n    Switch,\r\n    Button,\r\n    Col,\r\n    DatePicker,\r\n    message\r\n} from 'antd';\r\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router';\r\nimport { FaQuoteLeft} from 'react-icons/fa';\r\nimport { useState } from 'react';\r\nimport 'moment/locale/zh-cn';\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\nconst { TextArea } = Input;\r\n\r\nconst formItemLayout = {\r\n    labelCol: {\r\n    },\r\n    wrapperCol: {\r\n        span: 21,\r\n    },\r\n};\r\n\r\nconst CreateVote = ({props}) => {\r\n    const {userInfo, setUserInfo} = props\r\n    const history = useHistory()\r\n    const [loadingStatus, setLoadingStatus] = useState(false)\r\n    const onFinish = (values) => {\r\n        setLoadingStatus(true)\r\n        axios.post(\"/api/vote/create\", {\r\n            ...values,\r\n            isMultiple: values.isMultiple ? 1 : 0,\r\n            isAnonymous: values.isAnonymous ? 1 : 0,\r\n            'date-time-picker': null,\r\n            deadline: values['date-time-picker'].format('YYYY-MM-DD HH:mm:ss'),\r\n            userInfo\r\n        }).then(({ data }) => {\r\n            message.success(\"提交成功\")\r\n            history.push(`/vote/${data.voteID}`)\r\n        }, (e) => {\r\n            message.error(e.response.data.msg)\r\n            setLoadingStatus(false)\r\n            if (e.response.data.code === -2) {\r\n                window.location.reload()\r\n            }\r\n        })\r\n    };\r\n\r\n    return (\r\n        <Col span={18} className=\"create-vote-container\">\r\n            <h1 style={{ textAlign: \"left\", fontSize: \"32px\" }}>创建投票</h1>\r\n            <h3 className=\"tips\"><b style={{ color: \"#597ef7\", fontSize: \"14px\" }}>如果您提交了下方的内容，将不能再对该投票进行编辑</b><b style={{ color: \"#f5222d\" }}></b></h3>\r\n            <Form\r\n                name=\"validate_other\"\r\n                {...formItemLayout}\r\n                onFinish={onFinish}\r\n                initialValues={{\r\n                    options: [\"\", \"\"],\r\n                }}\r\n            >\r\n\r\n                <Form.Item\r\n                    name=\"title\"\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: '',\r\n                            whitespace: true,\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Input addonBefore={< FaQuoteLeft />} placeholder=\"投票标题\" maxLength={70} />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    name=\"desc\"\r\n                >\r\n                    <TextArea showCount maxLength={100} rows={4} placeholder=\"投票描述，可选\" />\r\n                </Form.Item>\r\n\r\n\r\n\r\n\r\n                <Form.List\r\n                    name=\"options\"\r\n                    rules={[\r\n                        {\r\n                            validator: async (_, options) => {\r\n                                if (!options || options.length < 2) {\r\n                                    return Promise.reject(new Error('At least 2 passengers'));\r\n                                }\r\n                            },\r\n                        },\r\n                    ]}\r\n                >\r\n                    {(fields, { add, remove }, { errors }) => {\r\n                        return (\r\n                            <>\r\n                                {fields.map((field, index) => (\r\n                                    <Form.Item\r\n                                        key={field.key}\r\n                                    >\r\n                                        <Form.Item\r\n                                            {...field}\r\n                                            rules={[\r\n                                                {\r\n                                                    required: true,\r\n                                                    whitespace: true,\r\n                                                    message: \"\",\r\n                                                },\r\n                                            ]}\r\n                                            noStyle\r\n                                        >\r\n                                            <Input addonBefore={\"选项\" + (index + 1)} />\r\n                                        </Form.Item>\r\n                                        {fields.length > 2 ? (\r\n                                            <MinusCircleOutlined\r\n                                                className=\"dynamic-delete-button\"\r\n                                                onClick={() => remove(field.name)}\r\n                                            />\r\n                                        ) : null}\r\n                                    </Form.Item>\r\n                                ))}\r\n                                <Form.Item\r\n                                >\r\n                                    <Button\r\n                                        type=\"dashed\"\r\n                                        onClick={() => add()}\r\n                                        icon={<PlusOutlined />}\r\n                                    >\r\n                                        添加选项\r\n                                    </Button>\r\n\r\n                                    <Form.ErrorList errors={errors} />\r\n                                </Form.Item>\r\n                            </>\r\n                        )\r\n                    }}\r\n                </Form.List>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                <Form.Item name=\"isMultiple\" label=\"多项选择\" valuePropName=\"checked\">\r\n                    <Switch />\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"isAnonymous\" label=\"匿名发起\" valuePropName=\"checked\">\r\n                    <Switch />\r\n                </Form.Item>\r\n\r\n\r\n\r\n\r\n                <Form.Item name=\"date-time-picker\"\r\n                    rules={\r\n                        [\r\n                            {\r\n                                required: true,\r\n                                message: '',\r\n                            },\r\n                        ]}\r\n                >\r\n                    <DatePicker locale={locale} placeholder=\"选择截止时间\" showTime format=\"YYYY-MM-DD HH:mm\" style={{ width: \"50%\" }} />\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item\r\n                    wrapperCol={{ sm: { offset: 7 } }}>\r\n                    <Button type=\"primary\" htmlType=\"submit\" loading={loadingStatus}>\r\n                        创建投票\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Col>\r\n    );\r\n};\r\n\r\n\r\nexport default CreateVote","/* eslint-disable */\r\nimport {\r\n    Button,\r\n    Row,\r\n    Col,\r\n    List,\r\n    Checkbox,\r\n    Progress,\r\n    Collapse,\r\n    Card,\r\n    message,\r\n    Avatar,\r\n} from 'antd';\r\nimport axios from \"axios\"\r\nimport React, { useCallback, useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport lodash from \"lodash\"\r\nimport { Descriptions, Badge } from 'antd';\r\nimport { presetPalettes, } from '@ant-design/colors';\r\nimport { Spin } from 'antd';\r\nimport { Typography } from 'antd';\r\n\r\nconst { Paragraph } = Typography;\r\n\r\n\r\n\r\nconst { Panel } = Collapse\r\nconst colorAry = []\r\nfor (let colorSet in presetPalettes) {\r\n    colorAry.push(presetPalettes[colorSet][3])\r\n}\r\n\r\n\r\n\r\nconst VoteInfoDescriptionList = function ({ vote, hasTimedOut }) {\r\n    return (\r\n        <Descriptions column={1} col={2} size={\"small\"}>\r\n            <Descriptions.Item label=\"投票描述\" >{vote.desc}</Descriptions.Item>\r\n            <Descriptions.Item label=\"投票类型\" >{vote.isMultiple ? \"多选投票\" : \"单选投票\"}</Descriptions.Item>\r\n            <Descriptions.Item label=\"发起用户\" >{vote.creator ? vote.creator : \"匿名\"}</Descriptions.Item>\r\n            <Descriptions.Item label=\"截止时间\" >\r\n                {vote.deadline}\r\n            </Descriptions.Item>\r\n            <Descriptions.Item label=\"投票状态\">\r\n                <Badge status={hasTimedOut ? \"default\" : \"processing\"} text={hasTimedOut ? \"已截止\" : \"进行中\"} />\r\n            </Descriptions.Item>\r\n        </Descriptions>\r\n    )\r\n}\r\n\r\nconst VoteInfoHeader = function ({ vote, hasTimedOut }) {\r\n    const [voteInfoActiveKey, setVoteInfoActiveKey] = useState(1)\r\n    const [showStatus, setShowStatus] = useState(true)\r\n    const location = useLocation()\r\n\r\n    return (\r\n        <div className=\"voteinfo-header\">\r\n            <div className=\"title-container\">\r\n                <b className=\"vote-title\">{vote.title}</b>\r\n                <Paragraph style={{ display: \"inline-block\", marginLeft: \"0\", marginRight: \"10px\" }} copyable={{ text: location.pathname, tooltips: ['复制投票链接', '复制链接成功'] }}></Paragraph>\r\n                <Button className=\"voteinfo-display-button\" type=\"text\" onClick={() => {\r\n                    setVoteInfoActiveKey(voteInfoActiveKey === 1 ? -1 : 1)\r\n                }}>{voteInfoActiveKey === 1 ? \"hide\" : \"show\"}</Button>\r\n            </div>\r\n            <Collapse className=\"voteinfo-collapse\" bordered={false}\r\n                activeKey={voteInfoActiveKey} ghost>\r\n                <Panel header=\"This is panel header with arrow icon\" key=\"1\">\r\n                    <VoteInfoDescriptionList vote={vote} hasTimedOut={hasTimedOut} />\r\n                </Panel>\r\n            </Collapse>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ViewVote({ userInfo }) {\r\n    const params = useParams()\r\n    const [loading, setLoading] = useState(true)\r\n    const [voteInfo, setVoteInfo] = useState()\r\n    const [votings, setVotings] = useState([])\r\n    const [webSocketID, setWebSocketID] = useState(\"\")\r\n    const [hasTimedOut, setHasTimedOut] = useState(false)\r\n    const [optionActiveKey, setOptionActiveKey] = useState([])\r\n    useEffect(() => {\r\n        axios.get(`/api/vote/normal/${params.voteID}`)\r\n            .then(({ data }) => {\r\n                setVoteInfo(data.voteInfo)\r\n                setVotings(data.voteInfo.votings)\r\n            }, (e) => {\r\n                message.error(e.response.data.msg)\r\n            })\r\n    }, [params.voteID])\r\n\r\n\r\n    //建立websocket\r\n    useEffect(() => {\r\n        if (!voteInfo) {\r\n            return\r\n        }\r\n        if (Date.now() > new Date(voteInfo.vote.deadline).getTime()) {\r\n            message.info(\"投票已截止\")\r\n            setHasTimedOut(true)\r\n            setLoading(false)\r\n            return\r\n        }\r\n        let ws = new WebSocket(`wss://starless.top/api/vote/normal/${params.voteID}`)\r\n        ws.addEventListener('open', function (event) {\r\n            ws.send(\"hello\")\r\n        });\r\n        ws.onmessage = ({ data }) => {\r\n            data = JSON.parse(data)\r\n            if (data.id) {\r\n                setWebSocketID(data.id)\r\n                setLoading(false)\r\n            } else {\r\n                setVotings(data)\r\n            }\r\n        }\r\n        return () => ws.close()\r\n    }, [params.voteID, voteInfo])\r\n\r\n    const changeShowStatus = (optionID) => {\r\n        const showDetails = optionActiveKey.includes(optionID)\r\n        setOptionActiveKey(showDetails ? optionActiveKey.filter(it => it !== optionID) : [...optionActiveKey, optionID])\r\n    }\r\n\r\n\r\n    let submitVote = useCallback((optionID, hasVoted) => {\r\n        if (Date.now() > new Date(voteInfo.vote.deadline).getTime()) {\r\n            message.error(\"投票已截止\")\r\n            setHasTimedOut(true)\r\n            return\r\n        }\r\n        axios.post(\"/api/vote/voteup\", {\r\n            voteID: params.voteID,\r\n            optionID,\r\n            webSocketID,\r\n            userInfo,\r\n        }).catch(e => {\r\n            message.error(e.response.data.msg)\r\n            if (e.response.data.code === -2) {\r\n                window.location.reload()\r\n            }\r\n        })\r\n        if (hasVoted) {\r\n            setVotings(votings.filter(it => it.userID !== userInfo.ID || it.optionID !== optionID))\r\n            return\r\n        }\r\n        let thisVoting = { ...userInfo, userID: userInfo.ID, optionID }\r\n        if (voteInfo.vote.isMultiple) {\r\n            setVotings([...votings, thisVoting])\r\n        } else {\r\n            setVotings([...votings.filter(it => it.userID !== userInfo.ID), thisVoting])\r\n        }\r\n    }, [params.voteID, voteInfo, votings, webSocketID])\r\n\r\n\r\n    let calRatio = useCallback((count, amount) => {\r\n        if (amount === 0) {\r\n            return 0\r\n        }\r\n        let ratio = (count / amount * 100).toFixed()\r\n        return ratio === \"100\" ? \"100\" : ratio\r\n    })\r\n    if (loading === true) {\r\n        return (\r\n            <Spin size=\"large\" tip=\"Loading...\">\r\n            </Spin>\r\n        )\r\n    }\r\n    let groupedVotings = lodash.groupBy(votings, \"optionID\")\r\n    let userList = Array.from(new Map(votings.map((it) => [it.name, it.avatar])))\r\n    let numberOfUsers = userList.length\r\n\r\n    return (\r\n        <>\r\n            <Row justify=\"center\">\r\n                <Col className=\"viewvote-container\" span={20} >\r\n                    <Row justify=\"space-around\">\r\n                        <Col className=\"voteinfo-container bordered-container\" span={16}>\r\n                            <VoteInfoHeader vote={voteInfo.vote} hasTimedOut={hasTimedOut} />\r\n                            <List\r\n                                size=\"default\"\r\n                                dataSource={voteInfo.options}\r\n                                renderItem={(option, index) => {\r\n                                    let currVotings = groupedVotings[option.optionID] || []\r\n                                    let hasCurrUserVoted = !!currVotings.find(it => it.userID === userInfo.ID)\r\n                                    const showDetails = optionActiveKey.includes(option.optionID)\r\n                                    return (\r\n                                        <List.Item key={option.optionID} className=\"option-list-item\">\r\n                                            <Row justify=\"space-between\">\r\n                                                <Col>\r\n                                                    <span>{option.content}</span>\r\n                                                    <Checkbox checked={hasCurrUserVoted} disabled={hasTimedOut} onChange={() => submitVote(option.optionID, hasCurrUserVoted)}></Checkbox>\r\n                                                    <Button className=\"voteinfo-display-button\" type=\"text\" onClick={() => changeShowStatus(option.optionID)}>{showDetails ? \"hide\" : \"show\"}</Button>\r\n                                                </Col>\r\n                                                <Col>\r\n                                                    <span className=\"show-details-trigger-text\" onClick={() => changeShowStatus(option.optionID)} style={{ fontSize: \"12px\", color: \"#828282\", verticalAlign: \"-5px\", marginRight: \"5px\" }}>\r\n                                                        {currVotings.length} {currVotings.length === 1 ? \"vote\" : \"votes\"}\r\n                                                    </span>\r\n                                                </Col>\r\n                                            </Row>\r\n                                            <Row>\r\n                                                <Progress status=\"active\" percent={calRatio(currVotings.length, numberOfUsers)} strokeColor={colorAry[(index * 3) % colorAry.length]} />\r\n                                                <Collapse className=\"voteinfo-collapse\" bordered={false}\r\n                                                    activeKey={optionActiveKey} ghost>\r\n                                                    <Panel header=\"This is panel header with arrow icon\" key={option.optionID}>\r\n                                                        {currVotings.map((it, idx) => {\r\n                                                            return (\r\n                                                                <div key={it.name} style={{ display: \"inline-block\" }}>\r\n                                                                    <Avatar size=\"default\" src={it.avatar} /><span style={{ marginRight: \"13px\" }}>{it.name}</span>\r\n                                                                </div>\r\n                                                            )\r\n                                                        })}\r\n                                                    </Panel>\r\n                                                </Collapse>\r\n                                            </Row>\r\n                                        </List.Item>\r\n                                    )\r\n                                }\r\n                                }\r\n                            />\r\n                        </Col>\r\n                        <Col className=\"\" span={6}>\r\n                            <Card title={<span>投票用户</span>} >\r\n                                {\r\n                                    userList.map((user) => <p key={user[0]}><Avatar size=\"default\" src={user[1]} />{user[0]}</p>)\r\n                                }\r\n                            </Card>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default ViewVote","/* eslint-disable */\r\n\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { Redirect, useHistory, useRouteMatch } from \"react-router\"\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n} from \"react-router-dom\"\r\nimport MyVote from \"./MyVote\"\r\nimport CreateVote from \"./CreateVote\"\r\nimport ViewVote from \"./ViewVote\"\r\n\r\n\r\nexport default function AuthorisedApp({props}) {\r\n    const {userInfo, setUserInfo} = props\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/myvote\" exact>\r\n                <MyVote props={{userInfo, setUserInfo}}></MyVote>\r\n            </Route>\r\n            <Route path=\"/create-vote\" exact>\r\n                <CreateVote props={{userInfo, setUserInfo}} />\r\n            </Route>\r\n            <Route path=\"/vote/:voteID\" exact >\r\n                <ViewVote userInfo={userInfo} />\r\n            </Route>)\r\n        </Switch>\r\n    )\r\n}\r\n","/* eslint-disable */\nimport React, { useEffect, useState } from \"react\"\nimport { Redirect, useHistory} from \"react-router\"\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  NavLink\n} from \"react-router-dom\"\nimport Register from \"./Register\"\nimport Login from \"./Login\"\n\nimport HomePage from \"./HomePage\"\nimport axios from \"axios\"\nimport { Layout, Divider, Row, Col } from 'antd';\nimport ForgotChangePwd from \"./ForgotChangePwd\"\nimport ForgotPassword from \"./ForgotPassword\"\nimport TopNav from \"./TopNav\";\nimport AuthorisedApp from \"./AuthorisedApp\"\n\n\nconst { Header, Content, Footer } = Layout\n\nfunction App() {\n  const history = useHistory()\n  const excludedList = [\"/forgot-changepwd\", \"/forgot-password\", \"/home\", \"/\", \"/register\", \"/login\"]\n  let [userInfo, setUserInfo] = useState()\n  let [selectedKey, setSelectedKey] = useState()\n  useEffect(() => {\n    axios.get(\"/api/user/userInfo\").then(({ data }) => {\n      setUserInfo(data.userInfo)\n    }, () => {\n      if (!(excludedList.includes(history.location.pathname))) {\n        history.push(\"/login\")\n      }\n    })\n  }, [])\n\n  return (\n    <Layout>\n      <Header>\n        <TopNav props={{ userInfo, setUserInfo, selectedKey, setSelectedKey }}></TopNav>\n      </Header>\n      <Divider className=\"layout-divider header-divider\" />\n      <Content>\n        <Switch>\n          <Route path=\"/forgot-changepwd\" exact component={ForgotChangePwd} />\n          <Route path=\"/forgot-password\" exact component={ForgotPassword} />\n          <Route path=\"/home\" exact>\n            <HomePage props={{ userInfo, setSelectedKey }} />\n          </Route>\n          <Route path=\"/\" exact >\n            <Redirect to=\"/home\" />\n          </Route>\n          <Route path=\"/register\" exact >\n            <Register props={{ userInfo, setUserInfo, setSelectedKey }} />\n          </Route>\n          <Route path=\"/login\" exact>\n            <Login props={{ setUserInfo, setSelectedKey }} />\n          </Route>\n          <Route path=\"/\">\n            {\n              userInfo && <AuthorisedApp props={{userInfo, setUserInfo}} />\n            }\n          </Route>\n        </Switch>\n      </Content>\n      <Divider className=\"layout-divider footer-divider\" style={{borderTopColor: \"#f0f0f0 !important\"}}/>\n      <Footer >\n        <Row justify=\"space-between\">\n          <Col>\n          <span >&copy; 2021 SimpleVote</span>\n          </Col>\n          <Col><NavLink to=\"/home\">back to home</NavLink></Col>\n        </Row>\n      </Footer>\n    </Layout>\n  )\n}\n\n\n\nexport default App;\n","/* eslint-disable */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport './css/index.less';\nimport App from './App';\nimport 'antd/dist/antd.css';\n\n\n\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App/>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}